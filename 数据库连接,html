
<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CampusHub æ•°æ®åº“è¿æ¥å®ç°è¯¦è§£</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 40px 20px;
    }
    .container {
      max-width: 1200px;
      margin: 0 auto;
      background: white;
      border-radius: 20px;
      box-shadow: 0 20px 60px rgba(0,0,0,0.3);
      overflow: hidden;
    }
    .header {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 40px;
      text-align: center;
    }
    .header h1 {
      font-size: 36px;
      margin-bottom: 10px;
    }
    .content {
      padding: 40px;
    }
    .section {
      margin-bottom: 50px;
    }
    .section-title {
      font-size: 28px;
      color: #667eea;
      margin-bottom: 20px;
      padding-bottom: 10px;
      border-bottom: 3px solid #667eea;
    }
    .architecture-diagram {
      background: #f8fafc;
      padding: 30px;
      border-radius: 15px;
      margin: 30px 0;
    }
    .layer {
      background: white;
      padding: 20px;
      border-radius: 10px;
      margin: 15px 0;
      border-left: 4px solid #667eea;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    .layer h4 {
      color: #667eea;
      margin-bottom: 10px;
      font-size: 18px;
    }
    .code-block {
      background: #2d3748;
      color: #e2e8f0;
      padding: 25px;
      border-radius: 10px;
      overflow-x: auto;
      margin: 20px 0;
      position: relative;
    }
    .code-block::before {
      content: attr(data-lang);
      position: absolute;
      top: 10px;
      right: 15px;
      background: #667eea;
      color: white;
      padding: 3px 10px;
      border-radius: 5px;
      font-size: 12px;
    }
    .code-block pre {
      margin: 0;
      font-family: 'Courier New', monospace;
      font-size: 14px;
      line-height: 1.6;
    }
    .code-comment { color: #68d391; }
    .code-keyword { color: #f687b3; }
    .code-string { color: #fbd38d; }
    .code-function { color: #63b3ed; }
    .explanation {
      background: #f7fafc;
      padding: 20px;
      border-left: 4px solid #667eea;
      border-radius: 5px;
      margin: 20px 0;
    }
    .tip-box {
      background: linear-gradient(135deg, #e0e7ff 0%, #c7d2fe 100%);
      padding: 20px;
      border-radius: 10px;
      margin: 20px 0;
    }
    .tip-box h4 {
      color: #667eea;
      margin-bottom: 10px;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .highlight {
      background: #fef5e7;
      padding: 2px 6px;
      border-radius: 3px;
      color: #d97706;
      font-weight: 600;
    }
    .flow-step {
      display: flex;
      align-items: center;
      gap: 20px;
      margin: 20px 0;
      padding: 20px;
      background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
      border-radius: 10px;
    }
    .step-number {
      width: 50px;
      height: 50px;
      background: #667eea;
      color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      font-weight: bold;
      flex-shrink: 0;
    }
    .step-content {
      flex: 1;
    }
    .step-content h4 {
      color: #1e293b;
      margin-bottom: 5px;
    }
    @media (max-width: 768px) {
      .content { padding: 20px; }
      .header h1 { font-size: 28px; }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>ğŸ—„ï¸ CampusHub æ•°æ®åº“è¿æ¥å®ç°è¯¦è§£</h1>
      <p>æ·±å…¥ç†è§£å‰ç«¯å¦‚ä½•é€šè¿‡ Supabase è¿æ¥ PostgreSQL æ•°æ®åº“</p>
    </div>

    <div class="content">
      <!-- ç¬¬ä¸€éƒ¨åˆ†ï¼šæ•´ä½“æ¶æ„ -->
      <div class="section">
        <h2 class="section-title">ğŸ—ï¸ æ•´ä½“æ¶æ„</h2>
        <p style="font-size: 16px; line-height: 1.8; margin-bottom: 30px;">
          CampusHub ä½¿ç”¨ <span class="highlight">Supabase</span> ä½œä¸ºåç«¯æœåŠ¡ï¼ŒSupabase æ˜¯ä¸€ä¸ªåŸºäº <span class="highlight">PostgreSQL</span> çš„å¼€æº BaaSï¼ˆBackend as a Serviceï¼‰å¹³å°ã€‚å‰ç«¯é€šè¿‡ Supabase å®¢æˆ·ç«¯ SDK ä¸æ•°æ®åº“é€šä¿¡ã€‚
        </p>

        <div class="architecture-diagram">
          <h3 style="color: #667eea; margin-bottom: 20px; text-align: center;">ğŸ“Š ä¸‰å±‚æ¶æ„å›¾</h3>
          
          <div class="layer">
            <h4>ğŸ¨ ç¬¬ä¸€å±‚ï¼šå‰ç«¯åº”ç”¨ï¼ˆVue 3ï¼‰</h4>
            <p>â€¢ ç”¨æˆ·ç•Œé¢å’Œäº¤äº’é€»è¾‘<br>
               â€¢ è°ƒç”¨ Supabase å®¢æˆ·ç«¯ SDK<br>
               â€¢ ä½ç½®ï¼š<code>src/views/</code>, <code>src/components/</code></p>
          </div>

          <div style="text-align: center; font-size: 30px; color: #667eea; margin: 10px 0;">â†“</div>

          <div class="layer">
            <h4>âš¡ ç¬¬äºŒå±‚ï¼šSupabase æœåŠ¡ï¼ˆä¸­é—´å±‚ï¼‰</h4>
            <p>â€¢ RESTful API æ¥å£<br>
               â€¢ èº«ä»½è®¤è¯æœåŠ¡ï¼ˆAuthï¼‰<br>
               â€¢ å®æ—¶è®¢é˜…æœåŠ¡<br>
               â€¢ å­˜å‚¨æœåŠ¡ï¼ˆStorageï¼‰<br>
               â€¢ ä½ç½®ï¼šäº‘ç«¯ Supabase æœåŠ¡å™¨</p>
          </div>

          <div style="text-align: center; font-size: 30px; color: #667eea; margin: 10px 0;">â†“</div>

          <div class="layer">
            <h4>ğŸ—„ï¸ ç¬¬ä¸‰å±‚ï¼šPostgreSQL æ•°æ®åº“</h4>
            <p>â€¢ å­˜å‚¨æ‰€æœ‰ä¸šåŠ¡æ•°æ®<br>
               â€¢ æ‰§è¡Œ SQL æŸ¥è¯¢<br>
               â€¢ è¡Œçº§å®‰å…¨ç­–ç•¥ï¼ˆRLSï¼‰<br>
               â€¢ ä½ç½®ï¼šSupabase æ‰˜ç®¡çš„ PostgreSQL å®ä¾‹</p>
          </div>
        </div>
      </div>
      <!-- ç¬¬äºŒéƒ¨åˆ†ï¼šè¿æ¥é…ç½® -->
      <div class="section">
        <h2 class="section-title">ğŸ”§ æ­¥éª¤1ï¼šé…ç½®è¿æ¥ä¿¡æ¯</h2>
        <p style="font-size: 16px; line-height: 1.8; margin-bottom: 20px;">
          é¦–å…ˆéœ€è¦åœ¨ç¯å¢ƒå˜é‡æ–‡ä»¶ä¸­é…ç½® Supabase çš„è¿æ¥ä¿¡æ¯ã€‚è¿™äº›ä¿¡æ¯æ¥è‡ª Supabase åå°ã€‚
        </p>

        <div class="code-block" data-lang=".env.local">
<pre><span class="code-comment"># Supabase é¡¹ç›® API åœ°å€</span>
<span class="code-keyword">VITE_SUPABASE_URL</span>=<span class="code-string">https://ydpizzozekqjsgvxtqnk.supabase.co</span>

<span class="code-comment"># Supabase åŒ¿åè®¿é—®å¯†é’¥ï¼ˆå…¬å¼€å¯†é’¥ï¼‰</span>
<span class="code-keyword">VITE_SUPABASE_ANON_KEY</span>=<span class="code-string">eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...</span></pre>
        </div>

        <div class="explanation">
          <h4>ğŸ” é…ç½®é¡¹è¯¦è§£</h4>
          <p>
            <strong>VITE_SUPABASE_URLï¼š</strong><br>
            â€¢ è¿™æ˜¯ä½ çš„ Supabase é¡¹ç›®çš„ API ç«¯ç‚¹åœ°å€<br>
            â€¢ æ ¼å¼ï¼š<code>https://[é¡¹ç›®ID].supabase.co</code><br>
            â€¢ æ‰€æœ‰ API è¯·æ±‚éƒ½ä¼šå‘é€åˆ°è¿™ä¸ªåœ°å€<br><br>

            <strong>VITE_SUPABASE_ANON_KEYï¼š</strong><br>
            â€¢ è¿™æ˜¯ä¸€ä¸ª JWTï¼ˆJSON Web Tokenï¼‰<br>
            â€¢ ç”¨äºå®¢æˆ·ç«¯èº«ä»½éªŒè¯<br>
            â€¢ è™½ç„¶æ˜¯"å…¬å¼€"å¯†é’¥ï¼Œä½†çœŸæ­£çš„æƒé™ç”±æ•°æ®åº“çš„ RLS ç­–ç•¥æ§åˆ¶<br>
            â€¢ å¯ä»¥å®‰å…¨åœ°åœ¨å‰ç«¯ä»£ç ä¸­ä½¿ç”¨
          </p>
        </div>

        <div class="tip-box">
          <h4>ğŸ’¡ å¦‚ä½•è·å–è¿™äº›é…ç½®ï¼Ÿ</h4>
          <ul style="margin-left: 20px; line-height: 1.8;">
            <li>ç™»å½• <a href="https://supabase.com" target="_blank">Supabase åå°</a></li>
            <li>é€‰æ‹©ä½ çš„é¡¹ç›®</li>
            <li>è¿›å…¥ Settings â†’ API</li>
            <li>å¤åˆ¶ Project URL å’Œ anon/public key</li>
          </ul>
        </div>
      </div>
      <!-- ç¬¬ä¸‰éƒ¨åˆ†ï¼šåˆå§‹åŒ–å®¢æˆ·ç«¯ -->
      <div class="section">
        <h2 class="section-title">âš™ï¸ æ­¥éª¤2ï¼šåˆå§‹åŒ– Supabase å®¢æˆ·ç«¯</h2>
        <p style="font-size: 16px; line-height: 1.8; margin-bottom: 20px;">
          åœ¨ <span class="highlight">src/supabase.js</span> æ–‡ä»¶ä¸­åˆ›å»º Supabase å®¢æˆ·ç«¯å®ä¾‹ã€‚è¿™ä¸ªå®ä¾‹ä¼šè¢«æ•´ä¸ªåº”ç”¨å…±äº«ä½¿ç”¨ã€‚
        </p>

        <div class="code-block" data-lang="JavaScript">
<pre><span class="code-comment">// 1. å¯¼å…¥ Supabase å®¢æˆ·ç«¯åˆ›å»ºå‡½æ•°</span>
<span class="code-keyword">import</span> { createClient } <span class="code-keyword">from</span> <span class="code-string">'@supabase/supabase-js'</span>

<span class="code-comment">// 2. ä»ç¯å¢ƒå˜é‡è¯»å–é…ç½®</span>
<span class="code-keyword">const</span> supabaseUrl = <span class="code-function">import.meta.env</span>.VITE_SUPABASE_URL
<span class="code-keyword">const</span> supabaseAnonKey = <span class="code-function">import.meta.env</span>.VITE_SUPABASE_ANON_KEY

<span class="code-comment">// 3. åˆ›å»º Supabase å®¢æˆ·ç«¯å®ä¾‹</span>
<span class="code-keyword">export const</span> supabase = <span class="code-function">createClient</span>(supabaseUrl, supabaseAnonKey, {
  <span class="code-function">auth</span>: {
    <span class="code-function">persistSession</span>: <span class="code-keyword">true</span>,        <span class="code-comment">// æŒä¹…åŒ–ä¼šè¯åˆ° localStorage</span>
    <span class="code-function">autoRefreshToken</span>: <span class="code-keyword">true</span>,      <span class="code-comment">// è‡ªåŠ¨åˆ·æ–°è¿‡æœŸçš„ token</span>
    <span class="code-function">detectSessionInUrl</span>: <span class="code-keyword">true</span>    <span class="code-comment">// ä» URL æ£€æµ‹ä¼šè¯ï¼ˆç”¨äºé‚®ç®±éªŒè¯ï¼‰</span>
  }
})</pre>
        </div>

        <div class="explanation">
          <h4>ğŸ¯ createClient åšäº†ä»€ä¹ˆï¼Ÿ</h4>
          <p>
            å½“è°ƒç”¨ <code>createClient()</code> æ—¶ï¼ŒSupabase SDK ä¼šï¼š<br><br>
            
            <strong>1. å»ºç«‹ HTTP è¿æ¥ï¼š</strong><br>
            â€¢ åˆ›å»ºä¸€ä¸ª HTTP å®¢æˆ·ç«¯ï¼ŒæŒ‡å‘ä½ çš„ Supabase API åœ°å€<br>
            â€¢ æ‰€æœ‰è¯·æ±‚éƒ½ä¼šé€šè¿‡ HTTPS åŠ å¯†ä¼ è¾“<br><br>

            <strong>2. é…ç½®è®¤è¯å¤´ï¼š</strong><br>
            â€¢ åœ¨æ¯ä¸ªè¯·æ±‚çš„ Header ä¸­è‡ªåŠ¨æ·»åŠ  <code>apikey</code><br>
            â€¢ å¦‚æœç”¨æˆ·å·²ç™»å½•ï¼Œè¿˜ä¼šæ·»åŠ  <code>Authorization: Bearer [token]</code><br><br>

            <strong>3. åˆå§‹åŒ–å­æ¨¡å—ï¼š</strong><br>
            â€¢ <code>supabase.auth</code> - è®¤è¯æ¨¡å—<br>
            â€¢ <code>supabase.from()</code> - æ•°æ®åº“æŸ¥è¯¢æ¨¡å—<br>
            â€¢ <code>supabase.storage</code> - æ–‡ä»¶å­˜å‚¨æ¨¡å—<br>
            â€¢ <code>supabase.realtime</code> - å®æ—¶è®¢é˜…æ¨¡å—
          </p>
        </div>
      </div>
      <!-- ç¬¬å››éƒ¨åˆ†ï¼šæ•°æ®åº“æ“ä½œ -->
      <div class="section">
        <h2 class="section-title">ğŸ’¾ æ­¥éª¤3ï¼šæ‰§è¡Œæ•°æ®åº“æ“ä½œ</h2>
        <p style="font-size: 16px; line-height: 1.8; margin-bottom: 20px;">
          é€šè¿‡ Supabase å®¢æˆ·ç«¯ï¼Œæˆ‘ä»¬å¯ä»¥æ‰§è¡Œå„ç§æ•°æ®åº“æ“ä½œã€‚ä»¥è·å–å•†å“åˆ—è¡¨ä¸ºä¾‹ï¼š
        </p>

        <div class="code-block" data-lang="JavaScript">
<pre><span class="code-comment">// storage.js - è·å–å•†å“åˆ—è¡¨</span>
<span class="code-keyword">export async function</span> <span class="code-function">getProducts</span>() {
  <span class="code-comment">// 1. è°ƒç”¨ Supabase æŸ¥è¯¢ API</span>
  <span class="code-keyword">const</span> { data, error } = <span class="code-keyword">await</span> supabase
    .<span class="code-function">from</span>(<span class="code-string">'products'</span>)           <span class="code-comment">// æŒ‡å®šè¡¨å</span>
    .<span class="code-function">select</span>(<span class="code-string">'*'</span>)                  <span class="code-comment">// é€‰æ‹©æ‰€æœ‰åˆ—</span>
    .<span class="code-function">order</span>(<span class="code-string">'id'</span>, { <span class="code-function">ascending</span>: <span class="code-keyword">false</span> })  <span class="code-comment">// æŒ‰ ID é™åºæ’åº</span>
  
  <span class="code-comment">// 2. é”™è¯¯å¤„ç†</span>
  <span class="code-keyword">if</span> (error) {
    <span class="code-function">console.error</span>(<span class="code-string">'Error fetching products:'</span>, error)
    <span class="code-keyword">return</span> []
  }
  
  <span class="code-comment">// 3. è¿”å›æ•°æ®</span>
  <span class="code-keyword">return</span> data
}</pre>
        </div>

        <div class="tip-box">
          <h4>ğŸ” è¿™æ®µä»£ç èƒŒåå‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ</h4>
          <ul style="margin-left: 20px; line-height: 1.8;">
            <li><strong>ç¬¬1æ­¥ï¼š</strong>Supabase SDK æ„å»ºä¸€ä¸ª HTTP GET è¯·æ±‚</li>
            <li><strong>ç¬¬2æ­¥ï¼š</strong>è¯·æ±‚å‘é€åˆ° <code>https://xxx.supabase.co/rest/v1/products</code></li>
            <li><strong>ç¬¬3æ­¥ï¼š</strong>Supabase æœåŠ¡å™¨æ¥æ”¶è¯·æ±‚ï¼ŒéªŒè¯ API Key</li>
            <li><strong>ç¬¬4æ­¥ï¼š</strong>Supabase å°†è¯·æ±‚è½¬æ¢ä¸º SQL æŸ¥è¯¢</li>
            <li><strong>ç¬¬5æ­¥ï¼š</strong>PostgreSQL æ‰§è¡ŒæŸ¥è¯¢ï¼š<code>SELECT * FROM products ORDER BY id DESC</code></li>
            <li><strong>ç¬¬6æ­¥ï¼š</strong>æ•°æ®åº“è¿”å›ç»“æœç»™ Supabase</li>
            <li><strong>ç¬¬7æ­¥ï¼š</strong>Supabase å°†ç»“æœè½¬æ¢ä¸º JSON æ ¼å¼</li>
            <li><strong>ç¬¬8æ­¥ï¼š</strong>å‰ç«¯æ¥æ”¶ JSON æ•°æ®</li>
          </ul>
        </div>
      </div>
      <!-- ç¬¬äº”éƒ¨åˆ†ï¼šHTTP è¯·æ±‚è¯¦è§£ -->
      <div class="section">
        <h2 class="section-title">ğŸŒ HTTP è¯·æ±‚è¯¦è§£</h2>
        <p style="font-size: 16px; line-height: 1.8; margin-bottom: 20px;">
          Supabase SDK å®é™…ä¸Šæ˜¯é€šè¿‡ HTTP è¯·æ±‚ä¸æœåŠ¡å™¨é€šä¿¡çš„ã€‚è®©æˆ‘ä»¬çœ‹çœ‹ä¸€ä¸ªå®Œæ•´çš„è¯·æ±‚æ˜¯ä»€ä¹ˆæ ·çš„ï¼š
        </p>

        <div class="code-block" data-lang="HTTP Request">
<pre><span class="code-keyword">GET</span> <span class="code-string">https://ydpizzozekqjsgvxtqnk.supabase.co/rest/v1/products?select=*&order=id.desc</span>

<span class="code-comment">Headers:</span>
<span class="code-function">apikey</span>: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
<span class="code-function">Authorization</span>: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
<span class="code-function">Content-Type</span>: application/json
<span class="code-function">Prefer</span>: return=representation</pre>
        </div>

        <div class="explanation">
          <h4>ğŸ“‹ è¯·æ±‚å¤´è¯´æ˜</h4>
          <p>
            <strong>apikeyï¼š</strong>ä½ çš„ Supabase åŒ¿åå¯†é’¥ï¼Œç”¨äºè¯†åˆ«é¡¹ç›®<br>
            <strong>Authorizationï¼š</strong>ç”¨æˆ·çš„ JWT tokenï¼ˆå¦‚æœå·²ç™»å½•ï¼‰<br>
            <strong>Content-Typeï¼š</strong>æŒ‡å®šè¯·æ±‚å’Œå“åº”çš„æ•°æ®æ ¼å¼ä¸º JSON<br>
            <strong>Preferï¼š</strong>å‘Šè¯‰æœåŠ¡å™¨è¿”å›å®Œæ•´çš„æ•°æ®å¯¹è±¡
          </p>
        </div>

        <div class="code-block" data-lang="HTTP Response">
<pre><span class="code-keyword">Status:</span> <span class="code-string">200 OK</span>

<span class="code-comment">Response Body:</span>
[
  {
    <span class="code-string">"id"</span>: 1,
    <span class="code-string">"name"</span>: <span class="code-string">"äºŒæ‰‹è‡ªè¡Œè½¦"</span>,
    <span class="code-string">"price"</span>: 200,
    <span class="code-string">"category"</span>: <span class="code-string">"äº¤é€šå·¥å…·"</span>,
    <span class="code-string">"user_id"</span>: <span class="code-string">"uuid-here"</span>,
    <span class="code-string">"created_at"</span>: <span class="code-string">"2024-01-01T00:00:00Z"</span>
  },
  ...
]</pre>
        </div>
      </div>
      <!-- ç¬¬å…­éƒ¨åˆ†ï¼šæ•°æ®åº“è¡¨ç»“æ„ -->
      <div class="section">
        <h2 class="section-title">ğŸ—ƒï¸ æ•°æ®åº“è¡¨ç»“æ„</h2>
        <p style="font-size: 16px; line-height: 1.8; margin-bottom: 20px;">
          åœ¨ Supabase åå°ï¼Œæˆ‘ä»¬éœ€è¦å…ˆåˆ›å»ºæ•°æ®åº“è¡¨ã€‚ä»¥ä¸‹æ˜¯åˆ›å»ºè¡¨çš„ SQL è¯­å¥ï¼š
        </p>

        <div class="code-block" data-lang="SQL">
<pre><span class="code-comment">-- åˆ›å»ºå•†å“è¡¨</span>
<span class="code-keyword">CREATE TABLE</span> products (
  id <span class="code-keyword">BIGSERIAL PRIMARY KEY</span>,           <span class="code-comment">-- è‡ªå¢ä¸»é”®</span>
  name <span class="code-keyword">TEXT NOT NULL</span>,                  <span class="code-comment">-- å•†å“åç§°</span>
  price <span class="code-keyword">NUMERIC</span>,                        <span class="code-comment">-- ä»·æ ¼</span>
  category <span class="code-keyword">TEXT</span>,                        <span class="code-comment">-- åˆ†ç±»</span>
  description <span class="code-keyword">TEXT</span>,                     <span class="code-comment">-- æè¿°</span>
  user_id <span class="code-keyword">UUID REFERENCES</span> auth.users(id), <span class="code-comment">-- å–å®¶IDï¼ˆå¤–é”®ï¼‰</span>
  created_at <span class="code-keyword">TIMESTAMP WITH TIME ZONE DEFAULT NOW()</span>
);

<span class="code-comment">-- åˆ›å»ºç´¢å¼•ä»¥æé«˜æŸ¥è¯¢æ€§èƒ½</span>
<span class="code-keyword">CREATE INDEX</span> idx_products_user_id <span class="code-keyword">ON</span> products(user_id);
<span class="code-keyword">CREATE INDEX</span> idx_products_category <span class="code-keyword">ON</span> products(category);</pre>
        </div>

        <div class="explanation">
          <h4>ğŸ”‘ å…³é”®æ¦‚å¿µ</h4>
          <p>
            <strong>BIGSERIALï¼š</strong>è‡ªåŠ¨é€’å¢çš„æ•´æ•°ç±»å‹ï¼Œç”¨ä½œä¸»é”®<br>
            <strong>UUIDï¼š</strong>é€šç”¨å”¯ä¸€è¯†åˆ«ç ï¼ŒSupabase Auth ä½¿ç”¨ UUID ä½œä¸ºç”¨æˆ· ID<br>
            <strong>REFERENCESï¼š</strong>å¤–é”®çº¦æŸï¼Œç¡®ä¿ user_id å¿…é¡»å­˜åœ¨äº auth.users è¡¨ä¸­<br>
            <strong>TIMESTAMP WITH TIME ZONEï¼š</strong>å¸¦æ—¶åŒºçš„æ—¶é—´æˆ³ï¼Œè‡ªåŠ¨è®°å½•åˆ›å»ºæ—¶é—´<br>
            <strong>INDEXï¼š</strong>ç´¢å¼•å¯ä»¥åŠ å¿«æŸ¥è¯¢é€Ÿåº¦ï¼Œç‰¹åˆ«æ˜¯åœ¨å¤§æ•°æ®é‡æ—¶
          </p>
        </div>
      </div>
      <!-- ç¬¬ä¸ƒéƒ¨åˆ†ï¼šRLS å®‰å…¨ç­–ç•¥ -->
      <div class="section">
        <h2 class="section-title">ğŸ”’ è¡Œçº§å®‰å…¨ç­–ç•¥ï¼ˆRLSï¼‰</h2>
        <p style="font-size: 16px; line-height: 1.8; margin-bottom: 20px;">
          Supabase ä½¿ç”¨ <span class="highlight">Row Level Security (RLS)</span> æ¥ä¿æŠ¤æ•°æ®ã€‚å³ä½¿æœ‰äººè·å–äº†ä½ çš„ API Keyï¼Œä¹Ÿæ— æ³•è®¿é—®æœªæˆæƒçš„æ•°æ®ã€‚
        </p>

        <div class="code-block" data-lang="SQL">
<pre><span class="code-comment">-- 1. å¯ç”¨ RLS</span>
<span class="code-keyword">ALTER TABLE</span> products <span class="code-keyword">ENABLE ROW LEVEL SECURITY</span>;

<span class="code-comment">-- 2. åˆ›å»ºç­–ç•¥ï¼šæ‰€æœ‰äººéƒ½å¯ä»¥æŸ¥çœ‹å•†å“</span>
<span class="code-keyword">CREATE POLICY</span> <span class="code-string">"Anyone can view products"</span> <span class="code-keyword">ON</span> products
  <span class="code-keyword">FOR SELECT</span>
  <span class="code-keyword">USING</span> (<span class="code-keyword">true</span>);

<span class="code-comment">-- 3. åˆ›å»ºç­–ç•¥ï¼šåªæœ‰ç™»å½•ç”¨æˆ·å¯ä»¥æ·»åŠ å•†å“</span>
<span class="code-keyword">CREATE POLICY</span> <span class="code-string">"Authenticated users can insert"</span> <span class="code-keyword">ON</span> products
  <span class="code-keyword">FOR INSERT</span>
  <span class="code-keyword">WITH CHECK</span> (auth.<span class="code-function">uid</span>() = user_id);

<span class="code-comment">-- 4. åˆ›å»ºç­–ç•¥ï¼šç”¨æˆ·åªèƒ½ä¿®æ”¹è‡ªå·±çš„å•†å“</span>
<span class="code-keyword">CREATE POLICY</span> <span class="code-string">"Users can update own products"</span> <span class="code-keyword">ON</span> products
  <span class="code-keyword">FOR UPDATE</span>
  <span class="code-keyword">USING</span> (auth.<span class="code-function">uid</span>() = user_id);

<span class="code-comment">-- 5. åˆ›å»ºç­–ç•¥ï¼šç”¨æˆ·åªèƒ½åˆ é™¤è‡ªå·±çš„å•†å“</span>
<span class="code-keyword">CREATE POLICY</span> <span class="code-string">"Users can delete own products"</span> <span class="code-keyword">ON</span> products
  <span class="code-keyword">FOR DELETE</span>
  <span class="code-keyword">USING</span> (auth.<span class="code-function">uid</span>() = user_id);</pre>
        </div>

        <div class="explanation">
          <h4>ğŸ›¡ï¸ RLS å·¥ä½œåŸç†</h4>
          <p>
            <strong>1. è¯·æ±‚åˆ°è¾¾ï¼š</strong>ç”¨æˆ·å‘é€æŸ¥è¯¢è¯·æ±‚<br>
            <strong>2. èº«ä»½éªŒè¯ï¼š</strong>Supabase éªŒè¯ JWT tokenï¼Œè·å–ç”¨æˆ· ID<br>
            <strong>3. åº”ç”¨ç­–ç•¥ï¼š</strong>PostgreSQL è‡ªåŠ¨åœ¨ SQL æŸ¥è¯¢ä¸­æ·»åŠ  WHERE æ¡ä»¶<br>
            <strong>4. æ‰§è¡ŒæŸ¥è¯¢ï¼š</strong>åªè¿”å›ç¬¦åˆç­–ç•¥çš„æ•°æ®<br><br>

            ä¾‹å¦‚ï¼Œå½“ç”¨æˆ·æ‰§è¡Œ <code>SELECT * FROM products</code> æ—¶ï¼Œ<br>
            å®é™…æ‰§è¡Œçš„æ˜¯ï¼š<code>SELECT * FROM products WHERE true</code>ï¼ˆæŸ¥çœ‹ç­–ç•¥ï¼‰<br><br>

            å½“ç”¨æˆ·æ‰§è¡Œ <code>DELETE FROM products WHERE id = 1</code> æ—¶ï¼Œ<br>
            å®é™…æ‰§è¡Œçš„æ˜¯ï¼š<code>DELETE FROM products WHERE id = 1 AND user_id = 'å½“å‰ç”¨æˆ·ID'</code>
          </p>
        </div>
      </div>
      <!-- ç¬¬å…«éƒ¨åˆ†ï¼šå®Œæ•´æµç¨‹ç¤ºä¾‹ -->
      <div class="section">
        <h2 class="section-title">ğŸ”„ å®Œæ•´æ•°æ®æµç¨‹ç¤ºä¾‹</h2>
        <p style="font-size: 16px; line-height: 1.8; margin-bottom: 20px;">
          è®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå®Œæ•´çš„ä¾‹å­ï¼Œçœ‹çœ‹ä»å‰ç«¯åˆ°æ•°æ®åº“çš„æ•´ä¸ªæ•°æ®æµï¼š
        </p>

        <div class="flow-step">
          <div class="step-number">1</div>
          <div class="step-content">
            <h4>ç”¨æˆ·åœ¨å‰ç«¯ç‚¹å‡»"è·å–å•†å“åˆ—è¡¨"</h4>
            <p>Vue ç»„ä»¶è°ƒç”¨ï¼š<code>getProducts()</code></p>
          </div>
        </div>

        <div class="flow-step">
          <div class="step-number">2</div>
          <div class="step-content">
            <h4>å‰ç«¯è°ƒç”¨ Supabase SDK</h4>
            <p><code>supabase.from('products').select('*')</code></p>
          </div>
        </div>

        <div class="flow-step">
          <div class="step-number">3</div>
          <div class="step-content">
            <h4>SDK æ„å»º HTTP è¯·æ±‚</h4>
            <p>GET https://xxx.supabase.co/rest/v1/products?select=*</p>
          </div>
        </div>

        <div class="flow-step">
          <div class="step-number">4</div>
          <div class="step-content">
            <h4>è¯·æ±‚é€šè¿‡äº’è”ç½‘å‘é€åˆ° Supabase æœåŠ¡å™¨</h4>
            <p>HTTPS åŠ å¯†ä¼ è¾“ï¼ŒåŒ…å« API Key å’Œ JWT Token</p>
          </div>
        </div>

        <div class="flow-step">
          <div class="step-number">5</div>
          <div class="step-content">
            <h4>Supabase éªŒè¯è¯·æ±‚</h4>
            <p>æ£€æŸ¥ API Key æ˜¯å¦æœ‰æ•ˆï¼ŒéªŒè¯ JWT Tokenï¼ˆå¦‚æœæœ‰ï¼‰</p>
          </div>
        </div>

        <div class="flow-step">
          <div class="step-number">6</div>
          <div class="step-content">
            <h4>Supabase è½¬æ¢ä¸º SQL æŸ¥è¯¢</h4>
            <p><code>SELECT * FROM products WHERE [RLSç­–ç•¥]</code></p>
          </div>
        </div>

        <div class="flow-step">
          <div class="step-number">7</div>
          <div class="step-content">
            <h4>PostgreSQL æ‰§è¡ŒæŸ¥è¯¢</h4>
            <p>æ•°æ®åº“å¼•æ“æ‰§è¡Œ SQLï¼Œè¿”å›ç»“æœé›†</p>
          </div>
        </div>

        <div class="flow-step">
          <div class="step-number">8</div>
          <div class="step-content">
            <h4>Supabase æ ¼å¼åŒ–å“åº”</h4>
            <p>å°†æ•°æ®åº“ç»“æœè½¬æ¢ä¸º JSON æ ¼å¼</p>
          </div>
        </div>

        <div class="flow-step">
          <div class="step-number">9</div>
          <div class="step-content">
            <h4>HTTP å“åº”è¿”å›å‰ç«¯</h4>
            <p>é€šè¿‡ HTTPS å°† JSON æ•°æ®å‘é€å›æµè§ˆå™¨</p>
          </div>
        </div>

        <div class="flow-step">
          <div class="step-number">10</div>
          <div class="step-content">
            <h4>å‰ç«¯æ¥æ”¶å¹¶æ¸²æŸ“æ•°æ®</h4>
            <p>Vue ç»„ä»¶æ›´æ–°ç•Œé¢ï¼Œæ˜¾ç¤ºå•†å“åˆ—è¡¨</p>
          </div>
        </div>
      </div>
      <!-- ç¬¬ä¹éƒ¨åˆ†ï¼šå¸¸è§æ“ä½œç¤ºä¾‹ -->
      <div class="section">
        <h2 class="section-title">ğŸ’¡ å¸¸è§æ•°æ®åº“æ“ä½œç¤ºä¾‹</h2>

        <h3 style="color: #667eea; margin: 30px 0 15px;">1ï¸âƒ£ æŸ¥è¯¢æ•°æ®ï¼ˆSELECTï¼‰</h3>
        <div class="code-block" data-lang="JavaScript">
<pre><span class="code-comment">// æŸ¥è¯¢æ‰€æœ‰å•†å“</span>
<span class="code-keyword">const</span> { data } = <span class="code-keyword">await</span> supabase.<span class="code-function">from</span>(<span class="code-string">'products'</span>).<span class="code-function">select</span>(<span class="code-string">'*'</span>)

<span class="code-comment">// æŸ¥è¯¢ç‰¹å®šåˆ—</span>
<span class="code-keyword">const</span> { data } = <span class="code-keyword">await</span> supabase.<span class="code-function">from</span>(<span class="code-string">'products'</span>).<span class="code-function">select</span>(<span class="code-string">'id, name, price'</span>)

<span class="code-comment">// å¸¦æ¡ä»¶æŸ¥è¯¢</span>
<span class="code-keyword">const</span> { data } = <span class="code-keyword">await</span> supabase
  .<span class="code-function">from</span>(<span class="code-string">'products'</span>)
  .<span class="code-function">select</span>(<span class="code-string">'*'</span>)
  .<span class="code-function">eq</span>(<span class="code-string">'category'</span>, <span class="code-string">'ç”µå­äº§å“'</span>)      <span class="code-comment">// WHERE category = 'ç”µå­äº§å“'</span>
  .<span class="code-function">gte</span>(<span class="code-string">'price'</span>, 100)              <span class="code-comment">// AND price >= 100</span>
  .<span class="code-function">order</span>(<span class="code-string">'created_at'</span>, { <span class="code-function">ascending</span>: <span class="code-keyword">false</span> })  <span class="code-comment">// ORDER BY created_at DESC</span></pre>
        </div>

        <h3 style="color: #667eea; margin: 30px 0 15px;">2ï¸âƒ£ æ’å…¥æ•°æ®ï¼ˆINSERTï¼‰</h3>
        <div class="code-block" data-lang="JavaScript">
<pre><span class="code-comment">// æ’å…¥å•æ¡æ•°æ®</span>
<span class="code-keyword">const</span> { data, error } = <span class="code-keyword">await</span> supabase
  .<span class="code-function">from</span>(<span class="code-string">'products'</span>)
  .<span class="code-function">insert</span>([
    { 
      <span class="code-function">name</span>: <span class="code-string">'äºŒæ‰‹è‡ªè¡Œè½¦'</span>,
      <span class="code-function">price</span>: 200,
      <span class="code-function">category</span>: <span class="code-string">'äº¤é€šå·¥å…·'</span>,
      <span class="code-function">user_id</span>: <span class="code-string">'å½“å‰ç”¨æˆ·ID'</span>
    }
  ])
  .<span class="code-function">select</span>()  <span class="code-comment">// è¿”å›æ’å…¥çš„æ•°æ®</span></pre>
        </div>

        <h3 style="color: #667eea; margin: 30px 0 15px;">3ï¸âƒ£ æ›´æ–°æ•°æ®ï¼ˆUPDATEï¼‰</h3>
        <div class="code-block" data-lang="JavaScript">
<pre><span class="code-comment">// æ›´æ–°æŒ‡å®š ID çš„å•†å“</span>
<span class="code-keyword">const</span> { data, error } = <span class="code-keyword">await</span> supabase
  .<span class="code-function">from</span>(<span class="code-string">'products'</span>)
  .<span class="code-function">update</span>({ <span class="code-function">price</span>: 180 })
  .<span class="code-function">eq</span>(<span class="code-string">'id'</span>, 1)
  .<span class="code-function">select</span>()</pre>
        </div>

        <h3 style="color: #667eea; margin: 30px 0 15px;">4ï¸âƒ£ åˆ é™¤æ•°æ®ï¼ˆDELETEï¼‰</h3>
        <div class="code-block" data-lang="JavaScript">
<pre><span class="code-comment">// åˆ é™¤æŒ‡å®š ID çš„å•†å“</span>
<span class="code-keyword">const</span> { error } = <span class="code-keyword">await</span> supabase
  .<span class="code-function">from</span>(<span class="code-string">'products'</span>)
  .<span class="code-function">delete</span>()
  .<span class="code-function">eq</span>(<span class="code-string">'id'</span>, 1)</pre>
        </div>
      </div>
      <!-- ç¬¬åéƒ¨åˆ†ï¼šè®¤è¯ä¸æˆæƒ -->
      <div class="section">
        <h2 class="section-title">ğŸ” è®¤è¯ä¸æˆæƒæµç¨‹</h2>
        <p style="font-size: 16px; line-height: 1.8; margin-bottom: 20px;">
          Supabase Auth æä¾›äº†å®Œæ•´çš„ç”¨æˆ·è®¤è¯ç³»ç»Ÿï¼Œä¸æ•°æ®åº“æ— ç¼é›†æˆã€‚
        </p>

        <div class="code-block" data-lang="JavaScript">
<pre><span class="code-comment">// ç”¨æˆ·ç™»å½•</span>
<span class="code-keyword">const</span> { data, error } = <span class="code-keyword">await</span> supabase.auth.<span class="code-function">signInWithPassword</span>({
  <span class="code-function">email</span>: <span class="code-string">'user@example.com'</span>,
  <span class="code-function">password</span>: <span class="code-string">'password123'</span>
})

<span class="code-comment">// ç™»å½•æˆåŠŸåï¼ŒSupabase ä¼šï¼š</span>
<span class="code-comment">// 1. è¿”å›ä¸€ä¸ª JWT token</span>
<span class="code-comment">// 2. å°† token ä¿å­˜åˆ° localStorage</span>
<span class="code-comment">// 3. åœ¨åç»­æ‰€æœ‰è¯·æ±‚ä¸­è‡ªåŠ¨æºå¸¦è¿™ä¸ª token</span></pre>
        </div>

        <div class="explanation">
          <h4>ğŸ« JWT Token çš„ä½œç”¨</h4>
          <p>
            JWTï¼ˆJSON Web Tokenï¼‰æ˜¯ä¸€ä¸ªåŠ å¯†çš„å­—ç¬¦ä¸²ï¼ŒåŒ…å«ç”¨æˆ·ä¿¡æ¯ï¼š<br><br>
            
            <strong>Token ç»“æ„ï¼š</strong><br>
            <code>eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiMTIzIn0.signature</code><br><br>

            <strong>åŒ…å«çš„ä¿¡æ¯ï¼š</strong><br>
            â€¢ ç”¨æˆ· ID (user_id)<br>
            â€¢ ç”¨æˆ·è§’è‰² (role)<br>
            â€¢ è¿‡æœŸæ—¶é—´ (exp)<br>
            â€¢ ç­¾å‘æ—¶é—´ (iat)<br><br>

            <strong>å·¥ä½œæµç¨‹ï¼š</strong><br>
            1. ç”¨æˆ·ç™»å½•æˆåŠŸï¼Œè·å¾— JWT token<br>
            2. å‰ç«¯åœ¨æ¯ä¸ªè¯·æ±‚çš„ Header ä¸­æºå¸¦ token<br>
            3. Supabase éªŒè¯ token çš„ç­¾åå’Œæœ‰æ•ˆæœŸ<br>
            4. æå– token ä¸­çš„ user_id<br>
            5. åœ¨ SQL æŸ¥è¯¢ä¸­ä½¿ç”¨ <code>auth.uid()</code> è·å–å½“å‰ç”¨æˆ· ID<br>
            6. RLS ç­–ç•¥æ ¹æ®ç”¨æˆ· ID è¿‡æ»¤æ•°æ®
          </p>
        </div>
      </div>
      <!-- ç¬¬åä¸€éƒ¨åˆ†ï¼šæ€§èƒ½ä¼˜åŒ– -->
      <div class="section">
        <h2 class="section-title">âš¡ æ€§èƒ½ä¼˜åŒ–æŠ€å·§</h2>

        <div class="tip-box">
          <h4>1. ä½¿ç”¨ç´¢å¼•åŠ é€ŸæŸ¥è¯¢</h4>
          <div class="code-block" data-lang="SQL" style="margin-top: 15px;">
<pre><span class="code-comment">-- ä¸ºå¸¸ç”¨æŸ¥è¯¢å­—æ®µåˆ›å»ºç´¢å¼•</span>
<span class="code-keyword">CREATE INDEX</span> idx_products_category <span class="code-keyword">ON</span> products(category);
<span class="code-keyword">CREATE INDEX</span> idx_products_user_id <span class="code-keyword">ON</span> products(user_id);</pre>
          </div>
        </div>

        <div class="tip-box">
          <h4>2. åªæŸ¥è¯¢éœ€è¦çš„åˆ—</h4>
          <div class="code-block" data-lang="JavaScript" style="margin-top: 15px;">
<pre><span class="code-comment">// âŒ ä¸å¥½ï¼šæŸ¥è¯¢æ‰€æœ‰åˆ—</span>
<span class="code-keyword">const</span> { data } = <span class="code-keyword">await</span> supabase.<span class="code-function">from</span>(<span class="code-string">'products'</span>).<span class="code-function">select</span>(<span class="code-string">'*'</span>)

<span class="code-comment">// âœ… å¥½ï¼šåªæŸ¥è¯¢éœ€è¦çš„åˆ—</span>
<span class="code-keyword">const</span> { data } = <span class="code-keyword">await</span> supabase.<span class="code-function">from</span>(<span class="code-string">'products'</span>).<span class="code-function">select</span>(<span class="code-string">'id, name, price'</span>)</pre>
          </div>
        </div>

        <div class="tip-box">
          <h4>3. ä½¿ç”¨åˆ†é¡µå‡å°‘æ•°æ®é‡</h4>
          <div class="code-block" data-lang="JavaScript" style="margin-top: 15px;">
<pre><span class="code-comment">// æ¯é¡µæ˜¾ç¤º 10 æ¡ï¼Œè·å–ç¬¬ 2 é¡µ</span>
<span class="code-keyword">const</span> { data } = <span class="code-keyword">await</span> supabase
  .<span class="code-function">from</span>(<span class="code-string">'products'</span>)
  .<span class="code-function">select</span>(<span class="code-string">'*'</span>)
  .<span class="code-function">range</span>(10, 19)  <span class="code-comment">// ä»ç¬¬ 10 æ¡åˆ°ç¬¬ 19 æ¡</span></pre>
          </div>
        </div>

        <div class="tip-box">
          <h4>4. ä½¿ç”¨è¿æ¥æŸ¥è¯¢å‡å°‘è¯·æ±‚æ¬¡æ•°</h4>
          <div class="code-block" data-lang="JavaScript" style="margin-top: 15px;">
<pre><span class="code-comment">// ä¸€æ¬¡æŸ¥è¯¢è·å–å•†å“å’Œå–å®¶ä¿¡æ¯</span>
<span class="code-keyword">const</span> { data } = <span class="code-keyword">await</span> supabase
  .<span class="code-function">from</span>(<span class="code-string">'products'</span>)
  .<span class="code-function">select</span>(<span class="code-string">`
    *,
    profiles:user_id (
      username,
      avatar_url
    )
  `</span>)</pre>
          </div>
        </div>
      </div>
      <!-- ç¬¬åäºŒéƒ¨åˆ†ï¼šå¸¸è§é—®é¢˜ -->
      <div class="section">
        <h2 class="section-title">â“ å¸¸è§é—®é¢˜è§£ç­”</h2>

        <div class="explanation">
          <h4>Q1: ä¸ºä»€ä¹ˆæˆ‘çš„æŸ¥è¯¢è¿”å›ç©ºæ•°ç»„ï¼Ÿ</h4>
          <p>
            <strong>å¯èƒ½åŸå› ï¼š</strong><br>
            1. RLS ç­–ç•¥é˜»æ­¢äº†è®¿é—® - æ£€æŸ¥æ˜¯å¦å¯ç”¨äº† RLS ä¸”ç­–ç•¥é…ç½®æ­£ç¡®<br>
            2. è¡¨ä¸­ç¡®å®æ²¡æœ‰æ•°æ® - åœ¨ Supabase åå°æŸ¥çœ‹è¡¨å†…å®¹<br>
            3. æŸ¥è¯¢æ¡ä»¶ä¸åŒ¹é… - æ£€æŸ¥ WHERE æ¡ä»¶æ˜¯å¦æ­£ç¡®<br><br>

            <strong>è°ƒè¯•æ–¹æ³•ï¼š</strong><br>
            â€¢ åœ¨ Supabase åå°çš„ SQL Editor ä¸­ç›´æ¥æ‰§è¡Œ SQL æŸ¥è¯¢<br>
            â€¢ ä¸´æ—¶ç¦ç”¨ RLS æµ‹è¯•ï¼š<code>ALTER TABLE products DISABLE ROW LEVEL SECURITY;</code><br>
            â€¢ æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°çš„ç½‘ç»œè¯·æ±‚ï¼Œæ£€æŸ¥è¿”å›çš„é”™è¯¯ä¿¡æ¯
          </p>
        </div>

        <div class="explanation">
          <h4>Q2: å¦‚ä½•å¤„ç†æ•°æ®åº“è¿æ¥é”™è¯¯ï¼Ÿ</h4>
          <p>
            <strong>å¸¸è§é”™è¯¯ï¼š</strong><br>
            â€¢ <code>Invalid API key</code> - æ£€æŸ¥ .env.local ä¸­çš„ API Key æ˜¯å¦æ­£ç¡®<br>
            â€¢ <code>Network error</code> - æ£€æŸ¥ç½‘ç»œè¿æ¥ï¼Œç¡®è®¤ Supabase URL å¯è®¿é—®<br>
            â€¢ <code>JWT expired</code> - Token è¿‡æœŸï¼Œéœ€è¦é‡æ–°ç™»å½•<br><br>

            <strong>é”™è¯¯å¤„ç†ä»£ç ï¼š</strong>
          </p>
        </div>

        <div class="code-block" data-lang="JavaScript">
<pre><span class="code-keyword">try</span> {
  <span class="code-keyword">const</span> { data, error } = <span class="code-keyword">await</span> supabase.<span class="code-function">from</span>(<span class="code-string">'products'</span>).<span class="code-function">select</span>(<span class="code-string">'*'</span>)
  
  <span class="code-keyword">if</span> (error) {
    <span class="code-comment">// Supabase è¿”å›çš„é”™è¯¯</span>
    <span class="code-function">console.error</span>(<span class="code-string">'Database error:'</span>, error.message)
    <span class="code-keyword">return</span>
  }
  
  <span class="code-keyword">return</span> data
} <span class="code-keyword">catch</span> (err) {
  <span class="code-comment">// ç½‘ç»œé”™è¯¯æˆ–å…¶ä»–å¼‚å¸¸</span>
  <span class="code-function">console.error</span>(<span class="code-string">'Network error:'</span>, err)
}</pre>
        </div>

        <div class="explanation">
          <h4>Q3: å¦‚ä½•åœ¨æœ¬åœ°å¼€å‘ç¯å¢ƒä½¿ç”¨ Supabaseï¼Ÿ</h4>
          <p>
            <strong>æ–¹æ³•1ï¼šä½¿ç”¨çº¿ä¸Š Supabase é¡¹ç›®</strong><br>
            â€¢ ç›´æ¥ä½¿ç”¨ Supabase äº‘æœåŠ¡ï¼ˆæ¨èï¼‰<br>
            â€¢ é…ç½® .env.local æŒ‡å‘çº¿ä¸Šé¡¹ç›®<br><br>

            <strong>æ–¹æ³•2ï¼šä½¿ç”¨æœ¬åœ° Supabase</strong><br>
            â€¢ å®‰è£… Docker Desktop<br>
            â€¢ å®‰è£… Supabase CLI<br>
            â€¢ è¿è¡Œ <code>supabase start</code><br>
            â€¢ ä¿®æ”¹ .env.local æŒ‡å‘æœ¬åœ°åœ°å€ï¼ˆhttp://127.0.0.1:54321ï¼‰
          </p>
        </div>
      </div>
      <!-- ç¬¬åä¸‰éƒ¨åˆ†ï¼šæ€»ç»“ -->
      <div class="section">
        <h2 class="section-title">ğŸ“š æ€»ç»“</h2>
        
        <div style="background: linear-gradient(135deg, #e0e7ff 0%, #c7d2fe 100%); padding: 30px; border-radius: 15px;">
          <h3 style="color: #667eea; margin-bottom: 20px; font-size: 24px;">ğŸ¯ æ ¸å¿ƒçŸ¥è¯†ç‚¹</h3>
          
          <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px;">
            <div style="background: white; padding: 20px; border-radius: 10px;">
              <h4 style="color: #667eea; margin-bottom: 10px;">1ï¸âƒ£ é…ç½®è¿æ¥</h4>
              <p style="font-size: 14px; line-height: 1.6;">
                â€¢ åœ¨ .env.local é…ç½® URL å’Œ API Key<br>
                â€¢ ä½¿ç”¨ createClient åˆå§‹åŒ–å®¢æˆ·ç«¯<br>
                â€¢ é…ç½®è®¤è¯é€‰é¡¹ï¼ˆæŒä¹…åŒ–ã€è‡ªåŠ¨åˆ·æ–°ï¼‰
              </p>
            </div>
            
            <div style="background: white; padding: 20px; border-radius: 10px;">
              <h4 style="color: #667eea; margin-bottom: 10px;">2ï¸âƒ£ HTTP é€šä¿¡</h4>
              <p style="font-size: 14px; line-height: 1.6;">
                â€¢ SDK å°†æ“ä½œè½¬æ¢ä¸º HTTP è¯·æ±‚<br>
                â€¢ é€šè¿‡ HTTPS åŠ å¯†ä¼ è¾“<br>
                â€¢ è‡ªåŠ¨æºå¸¦ API Key å’Œ JWT Token
              </p>
            </div>
            
            <div style="background: white; padding: 20px; border-radius: 10px;">
              <h4 style="color: #667eea; margin-bottom: 10px;">3ï¸âƒ£ SQL è½¬æ¢</h4>
              <p style="font-size: 14px; line-height: 1.6;">
                â€¢ Supabase å°† API è°ƒç”¨è½¬æ¢ä¸º SQL<br>
                â€¢ PostgreSQL æ‰§è¡ŒæŸ¥è¯¢<br>
                â€¢ ç»“æœè½¬æ¢ä¸º JSON è¿”å›
              </p>
            </div>
            
            <div style="background: white; padding: 20px; border-radius: 10px;">
              <h4 style="color: #667eea; margin-bottom: 10px;">4ï¸âƒ£ RLS å®‰å…¨</h4>
              <p style="font-size: 14px; line-height: 1.6;">
                â€¢ è¡Œçº§å®‰å…¨ç­–ç•¥ä¿æŠ¤æ•°æ®<br>
                â€¢ åŸºäºç”¨æˆ· ID è‡ªåŠ¨è¿‡æ»¤<br>
                â€¢ å³ä½¿æ³„éœ² API Key ä¹Ÿå®‰å…¨
              </p>
            </div>
            
            <div style="background: white; padding: 20px; border-radius: 10px;">
              <h4 style="color: #667eea; margin-bottom: 10px;">5ï¸âƒ£ è®¤è¯æˆæƒ</h4>
              <p style="font-size: 14px; line-height: 1.6;">
                â€¢ JWT Token å­˜å‚¨ç”¨æˆ·èº«ä»½<br>
                â€¢ è‡ªåŠ¨åœ¨è¯·æ±‚ä¸­æºå¸¦ Token<br>
                â€¢ auth.uid() è·å–å½“å‰ç”¨æˆ·
              </p>
            </div>
            
            <div style="background: white; padding: 20px; border-radius: 10px;">
              <h4 style="color: #667eea; margin-bottom: 10px;">6ï¸âƒ£ æ€§èƒ½ä¼˜åŒ–</h4>
              <p style="font-size: 14px; line-height: 1.6;">
                â€¢ åˆ›å»ºç´¢å¼•åŠ é€ŸæŸ¥è¯¢<br>
                â€¢ åªæŸ¥è¯¢éœ€è¦çš„åˆ—<br>
                â€¢ ä½¿ç”¨åˆ†é¡µå’Œè¿æ¥æŸ¥è¯¢
              </p>
            </div>
          </div>
        </div>

        <div class="tip-box" style="margin-top: 30px;">
          <h4>ğŸŒŸ ä¸ºä»€ä¹ˆè¿™ä¸ªæ¶æ„å¥½ï¼Ÿ</h4>
          <ul style="margin-left: 20px; line-height: 1.8;">
            <li><strong>ç®€å•ï¼š</strong>ä¸éœ€è¦è‡ªå·±æ­å»ºåç«¯æœåŠ¡å™¨</li>
            <li><strong>å®‰å…¨ï¼š</strong>RLS ç­–ç•¥è‡ªåŠ¨ä¿æŠ¤æ•°æ®</li>
            <li><strong>å¿«é€Ÿï¼š</strong>å‡ è¡Œä»£ç å°±èƒ½å®ç°æ•°æ®åº“æ“ä½œ</li>
            <li><strong>å¯æ‰©å±•ï¼š</strong>æ”¯æŒå®æ—¶è®¢é˜…ã€æ–‡ä»¶å­˜å‚¨ç­‰é«˜çº§åŠŸèƒ½</li>
            <li><strong>å…è´¹ï¼š</strong>æä¾›æ…·æ…¨çš„å…è´¹é¢åº¦</li>
          </ul>
        </div>
      </div>

    </div>
  </div>
</body>
</html>
