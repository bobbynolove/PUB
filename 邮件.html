
<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CampusHub é‚®ç®±éªŒè¯å®ç°è¯¦è§£</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 40px 20px;
    }
    .container {
      max-width: 1200px;
      margin: 0 auto;
      background: white;
      border-radius: 20px;
      box-shadow: 0 20px 60px rgba(0,0,0,0.3);
      overflow: hidden;
    }
    .header {
      background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
      color: white;
      padding: 40px;
      text-align: center;
    }
    .header h1 {
      font-size: 36px;
      margin-bottom: 10px;
    }
    .header p {
      font-size: 18px;
      opacity: 0.9;
    }
    .content {
      padding: 40px;
    }
    .section {
      margin-bottom: 50px;
    }
    .section-title {
      font-size: 28px;
      color: #11998e;
      margin-bottom: 20px;
      padding-bottom: 10px;
      border-bottom: 3px solid #11998e;
    }
    .flow-diagram {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin: 30px 0;
      flex-wrap: wrap;
      gap: 20px;
    }
    .flow-step {
      flex: 1;
      min-width: 200px;
      background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
      padding: 25px;
      border-radius: 15px;
      text-align: center;
      position: relative;
      transition: all 0.3s;
      cursor: pointer;
    }
    .flow-step:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 30px rgba(17, 153, 142, 0.3);
    }
    .flow-step.active {
      background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
      color: white;
    }
    .flow-step .number {
      width: 40px;
      height: 40px;
      background: #11998e;
      color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      margin: 0 auto 15px;
      font-size: 20px;
    }
    .flow-step.active .number {
      background: white;
      color: #11998e;
    }
    .flow-step h3 {
      font-size: 18px;
      margin-bottom: 10px;
    }
    .flow-step p {
      font-size: 14px;
      opacity: 0.8;
    }
    .arrow {
      font-size: 30px;
      color: #11998e;
      font-weight: bold;
    }
    .code-block {
      background: #2d3748;
      color: #e2e8f0;
      padding: 25px;
      border-radius: 10px;
      overflow-x: auto;
      margin: 20px 0;
      position: relative;
    }
    .code-block::before {
      content: attr(data-lang);
      position: absolute;
      top: 10px;
      right: 15px;
      background: #11998e;
      color: white;
      padding: 3px 10px;
      border-radius: 5px;
      font-size: 12px;
      font-weight: bold;
    }
    .code-block pre {
      margin: 0;
      font-family: 'Courier New', monospace;
      font-size: 14px;
      line-height: 1.6;
    }
    .code-comment {
      color: #68d391;
    }
    .code-keyword {
      color: #f687b3;
    }
    .code-string {
      color: #fbd38d;
    }
    .code-function {
      color: #63b3ed;
    }
    .explanation {
      background: #f7fafc;
      padding: 20px;
      border-left: 4px solid #11998e;
      border-radius: 5px;
      margin: 20px 0;
    }
    .explanation h4 {
      color: #11998e;
      margin-bottom: 10px;
      font-size: 18px;
    }
    .explanation p {
      line-height: 1.8;
      color: #4a5568;
    }
    .highlight {
      background: #fef5e7;
      padding: 2px 6px;
      border-radius: 3px;
      color: #d97706;
      font-weight: 600;
    }
    .tip-box {
      background: linear-gradient(135deg, #e0f2f1 0%, #b2dfdb 100%);
      padding: 20px;
      border-radius: 10px;
      margin: 20px 0;
    }
    .tip-box h4 {
      color: #11998e;
      margin-bottom: 10px;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .tip-box h4::before {
      content: "ğŸ’¡";
      font-size: 24px;
    }
    .tip-box ul {
      margin-left: 20px;
      line-height: 1.8;
    }
    .interactive-demo {
      background: #f8fafc;
      padding: 30px;
      border-radius: 15px;
      margin: 30px 0;
      border: 2px dashed #11998e;
    }
    .demo-button {
      background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
      color: white;
      border: none;
      padding: 15px 30px;
      border-radius: 10px;
      font-size: 16px;
      cursor: pointer;
      transition: all 0.3s;
      font-weight: 600;
    }
    .demo-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 25px rgba(17, 153, 142, 0.4);
    }
    .demo-output {
      background: white;
      padding: 20px;
      border-radius: 10px;
      margin-top: 20px;
      min-height: 100px;
      border: 2px solid #e2e8f0;
    }
    @media (max-width: 768px) {
      .flow-diagram {
        flex-direction: column;
      }
      .arrow {
        transform: rotate(90deg);
      }
      .header h1 {
        font-size: 28px;
      }
      .content {
        padding: 20px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>ğŸ“§ CampusHub é‚®ç®±éªŒè¯å®ç°è¯¦è§£</h1>
      <p>ä»é›¶å¼€å§‹ç†è§£ Supabase Auth é‚®ç®±éªŒè¯çš„å®Œæ•´æµç¨‹</p>
    </div>

    <div class="content">
      <!-- ç¬¬ä¸€éƒ¨åˆ†ï¼šæ•´ä½“æµç¨‹ -->
      <div class="section">
        <h2 class="section-title">ğŸ“‹ æ•´ä½“æµç¨‹æ¦‚è§ˆ</h2>
        <p style="font-size: 16px; line-height: 1.8; margin-bottom: 30px;">
          é‚®ç®±éªŒè¯æ˜¯ç”¨æˆ·æ³¨å†Œçš„é‡è¦ç¯èŠ‚ï¼Œç¡®ä¿ç”¨æˆ·æä¾›çš„é‚®ç®±åœ°å€çœŸå®æœ‰æ•ˆã€‚æˆ‘ä»¬çš„ç³»ç»Ÿä½¿ç”¨ <span class="highlight">Supabase Auth</span> æœåŠ¡æ¥å®ç°è¿™ä¸€åŠŸèƒ½ï¼Œæ•´ä¸ªæµç¨‹åˆ†ä¸º5ä¸ªæ­¥éª¤ï¼š
        </p>
        <div class="flow-diagram">
          <div class="flow-step" onclick="highlightStep(1)">
            <div class="number">1</div>
            <h3>ç”¨æˆ·å¡«å†™è¡¨å•</h3>
            <p>åœ¨æ³¨å†Œé¡µé¢è¾“å…¥é‚®ç®±ã€å¯†ç ç­‰ä¿¡æ¯</p>
          </div>
          <div class="arrow">â†’</div>
          <div class="flow-step" onclick="highlightStep(2)">
            <div class="number">2</div>
            <h3>å‰ç«¯è°ƒç”¨æ³¨å†Œ</h3>
            <p>è°ƒç”¨ signUpUser å‡½æ•°æäº¤æ•°æ®</p>
          </div>
          <div class="arrow">â†’</div>
          <div class="flow-step" onclick="highlightStep(3)">
            <div class="number">3</div>
            <h3>Supabase å¤„ç†</h3>
            <p>åˆ›å»ºè´¦æˆ·å¹¶å‘é€éªŒè¯é‚®ä»¶</p>
          </div>
          <div class="arrow">â†’</div>
          <div class="flow-step" onclick="highlightStep(4)">
            <div class="number">4</div>
            <h3>ç”¨æˆ·æ”¶åˆ°é‚®ä»¶</h3>
            <p>ç‚¹å‡»é‚®ä»¶ä¸­çš„éªŒè¯é“¾æ¥</p>
          </div>
          <div class="arrow">â†’</div>
          <div class="flow-step" onclick="highlightStep(5)">
            <div class="number">5</div>
            <h3>è´¦æˆ·æ¿€æ´»</h3>
            <p>éªŒè¯æˆåŠŸï¼Œå¯ä»¥æ­£å¸¸ç™»å½•</p>
          </div>
        </div>
      </div>

      <!-- ç¬¬äºŒéƒ¨åˆ†ï¼šå‰ç«¯æ³¨å†Œè¡¨å• -->
      <div class="section">
        <h2 class="section-title">ğŸ¨ æ­¥éª¤1ï¼šå‰ç«¯æ³¨å†Œè¡¨å•</h2>
        <p style="font-size: 16px; line-height: 1.8; margin-bottom: 20px;">
          ç”¨æˆ·åœ¨ <span class="highlight">RegisterView.vue</span> é¡µé¢å¡«å†™æ³¨å†Œä¿¡æ¯ã€‚è¡¨å•åŒ…å«ç”¨æˆ·åã€é‚®ç®±ã€å¯†ç ç­‰å­—æ®µï¼Œå¹¶è¿›è¡Œå‰ç«¯éªŒè¯ã€‚
        </p>
        <div class="code-block" data-lang="Vue Template">
<pre>&lt;!-- æ³¨å†Œè¡¨å•æ¨¡æ¿ --&gt;
&lt;<span class="code-keyword">el-form</span> <span class="code-function">ref</span>=<span class="code-string">"formRef"</span> <span class="code-function">:model</span>=<span class="code-string">"form"</span> <span class="code-function">:rules</span>=<span class="code-string">"rules"</span>&gt;
  <span class="code-comment">&lt;!-- ç”¨æˆ·åè¾“å…¥æ¡† --&gt;</span>
  &lt;<span class="code-keyword">el-form-item</span> <span class="code-function">prop</span>=<span class="code-string">"username"</span>&gt;
    &lt;<span class="code-keyword">el-input</span> <span class="code-function">v-model</span>=<span class="code-string">"form.username"</span> <span class="code-function">placeholder</span>=<span class="code-string">"ç”¨æˆ·å"</span> /&gt;
  &lt;/<span class="code-keyword">el-form-item</span>&gt;
  
  <span class="code-comment">&lt;!-- é‚®ç®±è¾“å…¥æ¡†ï¼ˆå…³é”®ï¼ï¼‰ --&gt;</span>
  &lt;<span class="code-keyword">el-form-item</span> <span class="code-function">prop</span>=<span class="code-string">"email"</span>&gt;
    &lt;<span class="code-keyword">el-input</span> <span class="code-function">v-model</span>=<span class="code-string">"form.email"</span> <span class="code-function">placeholder</span>=<span class="code-string">"é‚®ç®±"</span> /&gt;
  &lt;/<span class="code-keyword">el-form-item</span>&gt;
  
  <span class="code-comment">&lt;!-- å¯†ç è¾“å…¥æ¡† --&gt;</span>
  &lt;<span class="code-keyword">el-form-item</span> <span class="code-function">prop</span>=<span class="code-string">"password"</span>&gt;
    &lt;<span class="code-keyword">el-input</span> <span class="code-function">v-model</span>=<span class="code-string">"form.password"</span> <span class="code-function">type</span>=<span class="code-string">"password"</span> /&gt;
  &lt;/<span class="code-keyword">el-form-item</span>&gt;
  
  <span class="code-comment">&lt;!-- æäº¤æŒ‰é’® --&gt;</span>
  &lt;<span class="code-keyword">el-button</span> <span class="code-function">@click</span>=<span class="code-string">"handleSubmit"</span>&gt;æ³¨å†Œ&lt;/<span class="code-keyword">el-button</span>&gt;
&lt;/<span class="code-keyword">el-form</span>&gt;</pre>
        </div>

        <div class="explanation">
          <h4>ğŸ“ ä»£ç è¯´æ˜</h4>
          <p>
            â€¢ <span class="highlight">v-model</span>ï¼šåŒå‘ç»‘å®šè¡¨å•æ•°æ®åˆ° form å¯¹è±¡<br>
            â€¢ <span class="highlight">:rules</span>ï¼šå®šä¹‰éªŒè¯è§„åˆ™ï¼Œç¡®ä¿é‚®ç®±æ ¼å¼æ­£ç¡®<br>
            â€¢ <span class="highlight">@click="handleSubmit"</span>ï¼šç‚¹å‡»æŒ‰é’®æ—¶è§¦å‘æ³¨å†Œå‡½æ•°
          </p>
        </div>
        <div class="code-block" data-lang="JavaScript">
<pre><span class="code-comment">// è¡¨å•éªŒè¯è§„åˆ™</span>
<span class="code-keyword">const</span> rules = {
  <span class="code-function">email</span>: [
    { <span class="code-function">required</span>: <span class="code-keyword">true</span>, <span class="code-function">message</span>: <span class="code-string">'è¯·è¾“å…¥é‚®ç®±'</span> },
    { <span class="code-function">type</span>: <span class="code-string">'email'</span>, <span class="code-function">message</span>: <span class="code-string">'è¯·è¾“å…¥æœ‰æ•ˆçš„é‚®ç®±åœ°å€'</span> }
  ],
  <span class="code-function">password</span>: [
    { <span class="code-function">required</span>: <span class="code-keyword">true</span>, <span class="code-function">message</span>: <span class="code-string">'è¯·è¾“å…¥å¯†ç '</span> },
    { <span class="code-function">min</span>: 6, <span class="code-function">message</span>: <span class="code-string">'å¯†ç è‡³å°‘6ä½'</span> }
  ]
}</pre>
        </div>

        <div class="tip-box">
          <h4>å°ç™½æç¤º</h4>
          <ul>
            <li><strong>Element Plus</strong> æ˜¯ä¸€ä¸ª Vue 3 çš„ UI ç»„ä»¶åº“ï¼Œæä¾›äº†ç°æˆçš„è¡¨å•ç»„ä»¶</li>
            <li><strong>è¡¨å•éªŒè¯</strong>ä¼šåœ¨ç”¨æˆ·æäº¤å‰æ£€æŸ¥æ•°æ®æ ¼å¼ï¼Œé¿å…æ— æ•ˆæ•°æ®æäº¤åˆ°æœåŠ¡å™¨</li>
            <li><strong>é‚®ç®±éªŒè¯è§„åˆ™</strong>ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æ£€æŸ¥é‚®ç®±æ ¼å¼ï¼ˆå¦‚ user@example.comï¼‰</li>
          </ul>
        </div>
      </div>

      <!-- ç¬¬ä¸‰éƒ¨åˆ†ï¼šæäº¤æ³¨å†Œè¯·æ±‚ -->
      <div class="section">
        <h2 class="section-title">ğŸš€ æ­¥éª¤2ï¼šæäº¤æ³¨å†Œè¯·æ±‚</h2>
        <p style="font-size: 16px; line-height: 1.8; margin-bottom: 20px;">
          å½“ç”¨æˆ·ç‚¹å‡»"æ³¨å†Œ"æŒ‰é’®åï¼Œå‰ç«¯ä¼šè°ƒç”¨ <span class="highlight">handleSubmit</span> å‡½æ•°ï¼Œè¯¥å‡½æ•°ä¼šéªŒè¯è¡¨å•å¹¶è°ƒç”¨åç«¯ APIã€‚
        </p>
        <div class="code-block" data-lang="JavaScript">
<pre><span class="code-comment">// RegisterView.vue ä¸­çš„æäº¤å‡½æ•°</span>
<span class="code-keyword">async function</span> <span class="code-function">handleSubmit</span>() {
  <span class="code-keyword">try</span> {
    <span class="code-comment">// 1. éªŒè¯è¡¨å•æ•°æ®</span>
    <span class="code-keyword">await</span> formRef.value.<span class="code-function">validate</span>()
    
    <span class="code-comment">// 2. æ˜¾ç¤ºåŠ è½½çŠ¶æ€</span>
    loading.value = <span class="code-keyword">true</span>
    
    <span class="code-comment">// 3. è°ƒç”¨æ³¨å†Œå‡½æ•°ï¼ˆé‡ç‚¹ï¼ï¼‰</span>
    <span class="code-keyword">await</span> <span class="code-function">signUpUser</span>({ 
      <span class="code-function">email</span>: form.email, 
      <span class="code-function">password</span>: form.password, 
      <span class="code-function">username</span>: form.username 
    })

    <span class="code-comment">// 4. æ˜¾ç¤ºæˆåŠŸæç¤º</span>
    ElMessage.<span class="code-function">success</span>(<span class="code-string">'æ³¨å†ŒæˆåŠŸï¼Œè¯·æ£€æŸ¥æ‚¨çš„é‚®ç®±ä»¥éªŒè¯æ‚¨çš„å¸æˆ·ã€‚'</span>)
    
    <span class="code-comment">// 5. 2ç§’åè·³è½¬åˆ°ç™»å½•é¡µ</span>
    <span class="code-function">setTimeout</span>(() => router.<span class="code-function">push</span>(<span class="code-string">'/login'</span>), 2000)
    
  } <span class="code-keyword">catch</span> (error) {
    <span class="code-comment">// æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯</span>
    ElMessage.<span class="code-function">error</span>(<span class="code-function">translateError</span>(error.message))
  } <span class="code-keyword">finally</span> {
    <span class="code-comment">// éšè—åŠ è½½çŠ¶æ€</span>
    loading.value = <span class="code-keyword">false</span>
  }
}</pre>
        </div>

        <div class="explanation">
          <h4>ğŸ” æ‰§è¡Œæµç¨‹è¯¦è§£</h4>
          <p>
            <strong>ç¬¬1æ­¥ï¼š</strong>è°ƒç”¨ <span class="highlight">formRef.value.validate()</span> éªŒè¯æ‰€æœ‰è¡¨å•å­—æ®µ<br>
            <strong>ç¬¬2æ­¥ï¼š</strong>è®¾ç½® loading çŠ¶æ€ï¼Œé˜²æ­¢ç”¨æˆ·é‡å¤æäº¤<br>
            <strong>ç¬¬3æ­¥ï¼š</strong>è°ƒç”¨ <span class="highlight">signUpUser</span> å‡½æ•°ï¼Œè¿™æ˜¯æ ¸å¿ƒæ­¥éª¤ï¼<br>
            <strong>ç¬¬4æ­¥ï¼š</strong>æ³¨å†ŒæˆåŠŸåæ˜¾ç¤ºæç¤ºä¿¡æ¯<br>
            <strong>ç¬¬5æ­¥ï¼š</strong>è‡ªåŠ¨è·³è½¬åˆ°ç™»å½•é¡µé¢
          </p>
        </div>
      </div>
      <!-- ç¬¬å››éƒ¨åˆ†ï¼šSupabase Auth è°ƒç”¨ -->
      <div class="section">
        <h2 class="section-title">âš¡ æ­¥éª¤3ï¼šSupabase Auth å¤„ç†æ³¨å†Œ</h2>
        <p style="font-size: 16px; line-height: 1.8; margin-bottom: 20px;">
          <span class="highlight">signUpUser</span> å‡½æ•°ä½äº <span class="highlight">src/utils/storage.js</span> æ–‡ä»¶ä¸­ï¼Œå®ƒè´Ÿè´£è°ƒç”¨ Supabase çš„è®¤è¯ APIã€‚
        </p>

        <div class="code-block" data-lang="JavaScript">
<pre><span class="code-comment">// storage.js ä¸­çš„æ³¨å†Œå‡½æ•°</span>
<span class="code-keyword">export const</span> <span class="code-function">signUpUser</span> = <span class="code-keyword">async</span> ({ email, password, username }) => {
  <span class="code-comment">// è°ƒç”¨ Supabase Auth API</span>
  <span class="code-keyword">const</span> { data, error } = <span class="code-keyword">await</span> supabase.auth.<span class="code-function">signUp</span>({
    <span class="code-function">email</span>,        <span class="code-comment">// ç”¨æˆ·é‚®ç®±</span>
    <span class="code-function">password</span>,     <span class="code-comment">// ç”¨æˆ·å¯†ç </span>
    <span class="code-function">options</span>: {
      <span class="code-function">data</span>: {
        <span class="code-function">username</span>  <span class="code-comment">// é¢å¤–çš„ç”¨æˆ·ä¿¡æ¯ï¼ˆå­˜å‚¨åœ¨ user_metadata ä¸­ï¼‰</span>
      }
    }
  })
  
  <span class="code-comment">// å¦‚æœå‡ºé”™ï¼ŒæŠ›å‡ºå¼‚å¸¸</span>
  <span class="code-keyword">if</span> (error) <span class="code-keyword">throw</span> error
  
  <span class="code-comment">// è¿”å›æ³¨å†Œç»“æœ</span>
  <span class="code-keyword">return</span> data
}</pre>
        </div>

        <div class="explanation">
          <h4>ğŸ¯ å…³é”®ç‚¹è§£æ</h4>
          <p>
            â€¢ <span class="highlight">supabase.auth.signUp()</span>ï¼šè¿™æ˜¯ Supabase æä¾›çš„æ³¨å†Œæ–¹æ³•<br>
            â€¢ <span class="highlight">email å’Œ password</span>ï¼šå¿…å¡«å‚æ•°ï¼Œç”¨äºåˆ›å»ºè´¦æˆ·<br>
            â€¢ <span class="highlight">options.data</span>ï¼šå¯é€‰å‚æ•°ï¼Œå­˜å‚¨é¢å¤–çš„ç”¨æˆ·ä¿¡æ¯ï¼ˆå¦‚ç”¨æˆ·åï¼‰<br>
            â€¢ <span class="highlight">è‡ªåŠ¨å‘é€é‚®ä»¶</span>ï¼šSupabase ä¼šè‡ªåŠ¨å‘ç”¨æˆ·é‚®ç®±å‘é€éªŒè¯é“¾æ¥ï¼
          </p>
        </div>
        <div class="tip-box">
          <h4>Supabase åœ¨èƒŒååšäº†ä»€ä¹ˆï¼Ÿ</h4>
          <ul>
            <li><strong>åˆ›å»ºç”¨æˆ·è´¦æˆ·ï¼š</strong>åœ¨ auth.users è¡¨ä¸­åˆ›å»ºä¸€æ¡è®°å½•</li>
            <li><strong>ç”ŸæˆéªŒè¯ä»¤ç‰Œï¼š</strong>åˆ›å»ºä¸€ä¸ªå”¯ä¸€çš„éªŒè¯ token</li>
            <li><strong>å‘é€éªŒè¯é‚®ä»¶ï¼š</strong>ä½¿ç”¨ Supabase çš„é‚®ä»¶æœåŠ¡å‘é€åŒ…å«éªŒè¯é“¾æ¥çš„é‚®ä»¶</li>
            <li><strong>è®¾ç½®è´¦æˆ·çŠ¶æ€ï¼š</strong>å°†è´¦æˆ·æ ‡è®°ä¸º"æœªéªŒè¯"çŠ¶æ€</li>
            <li><strong>è§¦å‘æ•°æ®åº“è§¦å‘å™¨ï¼š</strong>è‡ªåŠ¨åœ¨ profiles è¡¨ä¸­åˆ›å»ºç”¨æˆ·èµ„æ–™</li>
          </ul>
        </div>
      </div>

      <!-- ç¬¬äº”éƒ¨åˆ†ï¼šSupabase é…ç½® -->
      <div class="section">
        <h2 class="section-title">âš™ï¸ Supabase å®¢æˆ·ç«¯é…ç½®</h2>
        <p style="font-size: 16px; line-height: 1.8; margin-bottom: 20px;">
          åœ¨ä½¿ç”¨ Supabase ä¹‹å‰ï¼Œéœ€è¦å…ˆåˆå§‹åŒ–å®¢æˆ·ç«¯ã€‚é…ç½®æ–‡ä»¶ä½äº <span class="highlight">src/supabase.js</span>ã€‚
        </p>

        <div class="code-block" data-lang="JavaScript">
<pre><span class="code-comment">// supabase.js - Supabase å®¢æˆ·ç«¯åˆå§‹åŒ–</span>
<span class="code-keyword">import</span> { createClient } <span class="code-keyword">from</span> <span class="code-string">'@supabase/supabase-js'</span>

<span class="code-comment">// ä»ç¯å¢ƒå˜é‡è¯»å–é…ç½®</span>
<span class="code-keyword">const</span> supabaseUrl = <span class="code-function">import.meta.env</span>.VITE_SUPABASE_URL
<span class="code-keyword">const</span> supabaseAnonKey = <span class="code-function">import.meta.env</span>.VITE_SUPABASE_ANON_KEY

<span class="code-comment">// åˆ›å»º Supabase å®¢æˆ·ç«¯å®ä¾‹</span>
<span class="code-keyword">export const</span> supabase = <span class="code-function">createClient</span>(supabaseUrl, supabaseAnonKey, {
  <span class="code-function">auth</span>: {
    <span class="code-function">persistSession</span>: <span class="code-keyword">true</span>,        <span class="code-comment">// æŒä¹…åŒ–ä¼šè¯ï¼ˆä¿æŒç™»å½•çŠ¶æ€ï¼‰</span>
    <span class="code-function">autoRefreshToken</span>: <span class="code-keyword">true</span>,      <span class="code-comment">// è‡ªåŠ¨åˆ·æ–°ä»¤ç‰Œ</span>
    <span class="code-function">detectSessionInUrl</span>: <span class="code-keyword">true</span>    <span class="code-comment">// ä» URL ä¸­æ£€æµ‹ä¼šè¯ï¼ˆç”¨äºé‚®ç®±éªŒè¯ï¼‰</span>
  }
})</pre>
        </div>
        <div class="explanation">
          <h4>ğŸ”§ é…ç½®é¡¹è¯´æ˜</h4>
          <p>
            â€¢ <span class="highlight">supabaseUrl</span>ï¼šä½ çš„ Supabase é¡¹ç›®åœ°å€<br>
            â€¢ <span class="highlight">supabaseAnonKey</span>ï¼šåŒ¿åè®¿é—®å¯†é’¥ï¼ˆå…¬å¼€çš„ï¼Œç”¨äºå‰ç«¯ï¼‰<br>
            â€¢ <span class="highlight">persistSession</span>ï¼šå°†ç™»å½•çŠ¶æ€ä¿å­˜åˆ°æµè§ˆå™¨ï¼Œåˆ·æ–°é¡µé¢ä¸ä¼šé€€å‡ºç™»å½•<br>
            â€¢ <span class="highlight">detectSessionInUrl</span>ï¼š<strong>å…³é”®é…ç½®ï¼</strong>å…è®¸ä»é‚®ä»¶é“¾æ¥ä¸­æå–éªŒè¯ä¿¡æ¯
          </p>
        </div>

        <div class="tip-box">
          <h4>ä¸ºä»€ä¹ˆéœ€è¦ detectSessionInUrlï¼Ÿ</h4>
          <ul>
            <li>ç”¨æˆ·ç‚¹å‡»é‚®ä»¶ä¸­çš„éªŒè¯é“¾æ¥æ—¶ï¼Œé“¾æ¥åŒ…å«éªŒè¯ token</li>
            <li>Supabase ä¼šè‡ªåŠ¨ä» URL ä¸­æå– token å¹¶å®ŒæˆéªŒè¯</li>
            <li>éªŒè¯æˆåŠŸåï¼Œç”¨æˆ·ä¼šè¢«é‡å®šå‘åˆ°ä½ è®¾ç½®çš„é¡µé¢</li>
          </ul>
        </div>
      </div>

      <!-- ç¬¬å…­éƒ¨åˆ†ï¼šé‚®ä»¶éªŒè¯æµç¨‹ -->
      <div class="section">
        <h2 class="section-title">ğŸ“¬ æ­¥éª¤4ï¼šç”¨æˆ·æ”¶åˆ°éªŒè¯é‚®ä»¶</h2>
        <p style="font-size: 16px; line-height: 1.8; margin-bottom: 20px;">
          Supabase ä¼šè‡ªåŠ¨å‘é€ä¸€å°éªŒè¯é‚®ä»¶åˆ°ç”¨æˆ·çš„é‚®ç®±ï¼Œé‚®ä»¶å†…å®¹åŒ…å«ä¸€ä¸ªéªŒè¯é“¾æ¥ã€‚
        </p>

        <div class="interactive-demo">
          <h3 style="margin-bottom: 20px; color: #11998e;">ğŸ“§ éªŒè¯é‚®ä»¶ç¤ºä¾‹</h3>
          <div style="background: white; padding: 30px; border-radius: 10px; border: 1px solid #e2e8f0;">
            <h4 style="color: #1e293b; margin-bottom: 15px;">ç¡®è®¤æ‚¨çš„é‚®ç®±åœ°å€</h4>
            <p style="line-height: 1.8; color: #4a5568; margin-bottom: 20px;">
              æ„Ÿè°¢æ‚¨æ³¨å†Œ CampusHubï¼è¯·ç‚¹å‡»ä¸‹é¢çš„æŒ‰é’®éªŒè¯æ‚¨çš„é‚®ç®±åœ°å€ï¼š
            </p>
            <button class="demo-button" onclick="showVerificationProcess()">
              éªŒè¯æˆ‘çš„é‚®ç®±
            </button>
            <p style="margin-top: 20px; font-size: 14px; color: #64748b;">
              æˆ–å¤åˆ¶æ­¤é“¾æ¥åˆ°æµè§ˆå™¨ï¼š<br>
              <code style="background: #f1f5f9; padding: 5px 10px; border-radius: 5px; display: inline-block; margin-top: 10px;">
                https://your-project.supabase.co/auth/v1/verify?token=xxx&type=signup
              </code>
            </p>
          </div>
        </div>
        <div class="explanation">
          <h4>ğŸ”— éªŒè¯é“¾æ¥çš„ç»„æˆ</h4>
          <p>
            éªŒè¯é“¾æ¥åŒ…å«ä»¥ä¸‹å‚æ•°ï¼š<br>
            â€¢ <span class="highlight">token</span>ï¼šå”¯ä¸€çš„éªŒè¯ä»¤ç‰Œï¼Œç”¨äºè¯†åˆ«ç”¨æˆ·<br>
            â€¢ <span class="highlight">type=signup</span>ï¼šè¡¨ç¤ºè¿™æ˜¯æ³¨å†ŒéªŒè¯<br>
            â€¢ <span class="highlight">redirect_to</span>ï¼šéªŒè¯æˆåŠŸåè·³è½¬çš„é¡µé¢ï¼ˆå¯åœ¨ Supabase åå°é…ç½®ï¼‰
          </p>
        </div>
      </div>

      <!-- ç¬¬ä¸ƒéƒ¨åˆ†ï¼šéªŒè¯å®Œæˆ -->
      <div class="section">
        <h2 class="section-title">âœ… æ­¥éª¤5ï¼šéªŒè¯å®Œæˆï¼Œè´¦æˆ·æ¿€æ´»</h2>
        <p style="font-size: 16px; line-height: 1.8; margin-bottom: 20px;">
          å½“ç”¨æˆ·ç‚¹å‡»éªŒè¯é“¾æ¥åï¼ŒSupabase ä¼šè‡ªåŠ¨å¤„ç†éªŒè¯é€»è¾‘ï¼Œå¹¶æ›´æ–°ç”¨æˆ·çš„éªŒè¯çŠ¶æ€ã€‚
        </p>

        <div class="code-block" data-lang="æµç¨‹è¯´æ˜">
<pre>1. ç”¨æˆ·ç‚¹å‡»é‚®ä»¶ä¸­çš„éªŒè¯é“¾æ¥
   â†“
2. æµè§ˆå™¨æ‰“å¼€é“¾æ¥ï¼ŒSupabase æå– token
   â†“
3. Supabase éªŒè¯ token çš„æœ‰æ•ˆæ€§
   â†“
4. æ›´æ–°æ•°æ®åº“ï¼šå°† email_confirmed_at å­—æ®µè®¾ç½®ä¸ºå½“å‰æ—¶é—´
   â†“
5. é‡å®šå‘ç”¨æˆ·åˆ°æŒ‡å®šé¡µé¢ï¼ˆé€šå¸¸æ˜¯ç™»å½•é¡µæˆ–é¦–é¡µï¼‰
   â†“
6. ç”¨æˆ·ç°åœ¨å¯ä»¥æ­£å¸¸ç™»å½•äº†ï¼</pre>
        </div>

        <div class="tip-box">
          <h4>éªŒè¯åçš„æ•°æ®åº“å˜åŒ–</h4>
          <ul>
            <li><strong>auth.users è¡¨ï¼š</strong>email_confirmed_at å­—æ®µä» NULL å˜ä¸ºæ—¶é—´æˆ³</li>
            <li><strong>ç”¨æˆ·çŠ¶æ€ï¼š</strong>ä»"æœªéªŒè¯"å˜ä¸º"å·²éªŒè¯"</li>
            <li><strong>ç™»å½•æƒé™ï¼š</strong>ç”¨æˆ·ç°åœ¨å¯ä»¥ä½¿ç”¨é‚®ç®±å’Œå¯†ç ç™»å½•</li>
          </ul>
        </div>
      </div>
      <!-- ç¬¬å…«éƒ¨åˆ†ï¼šå®Œæ•´ä»£ç ç¤ºä¾‹ -->
      <div class="section">
        <h2 class="section-title">ğŸ’» å®Œæ•´ä»£ç ç¤ºä¾‹</h2>
        <p style="font-size: 16px; line-height: 1.8; margin-bottom: 20px;">
          ä¸‹é¢æ˜¯ä¸€ä¸ªç®€åŒ–çš„å®Œæ•´ç¤ºä¾‹ï¼Œå±•ç¤ºä»æ³¨å†Œåˆ°éªŒè¯çš„æ‰€æœ‰å…³é”®ä»£ç ï¼š
        </p>

        <div class="code-block" data-lang="å®Œæ•´æµç¨‹">
<pre><span class="code-comment">// ========== 1. åˆå§‹åŒ– Supabase ==========</span>
<span class="code-keyword">import</span> { createClient } <span class="code-keyword">from</span> <span class="code-string">'@supabase/supabase-js'</span>

<span class="code-keyword">const</span> supabase = <span class="code-function">createClient</span>(
  <span class="code-string">'YOUR_SUPABASE_URL'</span>,
  <span class="code-string">'YOUR_SUPABASE_ANON_KEY'</span>,
  { <span class="code-function">auth</span>: { <span class="code-function">detectSessionInUrl</span>: <span class="code-keyword">true</span> } }
)

<span class="code-comment">// ========== 2. æ³¨å†Œå‡½æ•° ==========</span>
<span class="code-keyword">async function</span> <span class="code-function">registerUser</span>(email, password, username) {
  <span class="code-keyword">const</span> { data, error } = <span class="code-keyword">await</span> supabase.auth.<span class="code-function">signUp</span>({
    <span class="code-function">email</span>,
    <span class="code-function">password</span>,
    <span class="code-function">options</span>: {
      <span class="code-function">data</span>: { <span class="code-function">username</span> }
    }
  })
  
  <span class="code-keyword">if</span> (error) {
    <span class="code-function">console.error</span>(<span class="code-string">'æ³¨å†Œå¤±è´¥ï¼š'</span>, error.message)
    <span class="code-keyword">return</span>
  }
  
  <span class="code-function">console.log</span>(<span class="code-string">'æ³¨å†ŒæˆåŠŸï¼è¯·æ£€æŸ¥é‚®ç®±éªŒè¯ã€‚'</span>)
  <span class="code-function">console.log</span>(<span class="code-string">'ç”¨æˆ·ä¿¡æ¯ï¼š'</span>, data.user)
}

<span class="code-comment">// ========== 3. è°ƒç”¨æ³¨å†Œ ==========</span>
<span class="code-function">registerUser</span>(
  <span class="code-string">'user@example.com'</span>,
  <span class="code-string">'password123'</span>,
  <span class="code-string">'å¼ ä¸‰'</span>
)</pre>
        </div>
      </div>
      <!-- ç¬¬ä¹éƒ¨åˆ†ï¼šå¸¸è§é—®é¢˜ -->
      <div class="section">
        <h2 class="section-title">â“ å¸¸è§é—®é¢˜è§£ç­”</h2>
        
        <div class="explanation">
          <h4>Q1: ä¸ºä»€ä¹ˆæ”¶ä¸åˆ°éªŒè¯é‚®ä»¶ï¼Ÿ</h4>
          <p>
            â€¢ æ£€æŸ¥é‚®ç®±åœ°å€æ˜¯å¦æ­£ç¡®<br>
            â€¢ æŸ¥çœ‹åƒåœ¾é‚®ä»¶æ–‡ä»¶å¤¹<br>
            â€¢ ç¡®è®¤ Supabase é¡¹ç›®çš„é‚®ä»¶æœåŠ¡å·²å¯ç”¨<br>
            â€¢ æ£€æŸ¥ Supabase åå°çš„é‚®ä»¶æ¨¡æ¿é…ç½®
          </p>
        </div>

        <div class="explanation">
          <h4>Q2: éªŒè¯é“¾æ¥è¿‡æœŸäº†æ€ä¹ˆåŠï¼Ÿ</h4>
          <p>
            â€¢ é»˜è®¤æƒ…å†µä¸‹ï¼ŒéªŒè¯é“¾æ¥24å°æ—¶å†…æœ‰æ•ˆ<br>
            â€¢ å¯ä»¥åœ¨ Supabase åå°é‡æ–°å‘é€éªŒè¯é‚®ä»¶<br>
            â€¢ æˆ–è€…è®©ç”¨æˆ·é‡æ–°æ³¨å†Œï¼ˆå¦‚æœè´¦æˆ·æœªæ¿€æ´»ï¼‰
          </p>
        </div>

        <div class="explanation">
          <h4>Q3: å¯ä»¥è‡ªå®šä¹‰éªŒè¯é‚®ä»¶çš„å†…å®¹å—ï¼Ÿ</h4>
          <p>
            â€¢ å¯ä»¥ï¼åœ¨ Supabase åå°çš„ Authentication â†’ Email Templates ä¸­ä¿®æ”¹<br>
            â€¢ å¯ä»¥è‡ªå®šä¹‰é‚®ä»¶æ ‡é¢˜ã€å†…å®¹ã€æŒ‰é’®æ–‡å­—ç­‰<br>
            â€¢ æ”¯æŒ HTML æ ¼å¼å’Œå˜é‡æ›¿æ¢
          </p>
        </div>

        <div class="explanation">
          <h4>Q4: å¦‚ä½•æ£€æŸ¥ç”¨æˆ·æ˜¯å¦å·²éªŒè¯é‚®ç®±ï¼Ÿ</h4>
          <p>
            â€¢ åœ¨ç”¨æˆ·å¯¹è±¡ä¸­æ£€æŸ¥ <span class="highlight">email_confirmed_at</span> å­—æ®µ<br>
            â€¢ å¦‚æœè¯¥å­—æ®µä¸ä¸º nullï¼Œè¯´æ˜é‚®ç®±å·²éªŒè¯<br>
            â€¢ ç¤ºä¾‹ä»£ç ï¼š
          </p>
        </div>

        <div class="code-block" data-lang="JavaScript">
<pre><span class="code-keyword">const</span> { data: { user } } = <span class="code-keyword">await</span> supabase.auth.<span class="code-function">getUser</span>()

<span class="code-keyword">if</span> (user.email_confirmed_at) {
  <span class="code-function">console.log</span>(<span class="code-string">'é‚®ç®±å·²éªŒè¯'</span>)
} <span class="code-keyword">else</span> {
  <span class="code-function">console.log</span>(<span class="code-string">'é‚®ç®±æœªéªŒè¯'</span>)
}</pre>
        </div>
      </div>
      <!-- ç¬¬åéƒ¨åˆ†ï¼šè¿›é˜¶é…ç½® -->
      <div class="section">
        <h2 class="section-title">ğŸš€ è¿›é˜¶é…ç½®</h2>
        
        <div class="tip-box">
          <h4>è‡ªå®šä¹‰éªŒè¯åçš„é‡å®šå‘é¡µé¢</h4>
          <ul>
            <li>åœ¨ Supabase åå°çš„ Authentication â†’ URL Configuration ä¸­è®¾ç½®</li>
            <li>è®¾ç½® <strong>Site URL</strong> ä¸ºä½ çš„åº”ç”¨åœ°å€ï¼ˆå¦‚ http://localhost:5173ï¼‰</li>
            <li>è®¾ç½® <strong>Redirect URLs</strong> æ·»åŠ å…è®¸çš„é‡å®šå‘åœ°å€</li>
          </ul>
        </div>

        <div class="code-block" data-lang="JavaScript">
<pre><span class="code-comment">// åœ¨æ³¨å†Œæ—¶æŒ‡å®šéªŒè¯åçš„é‡å®šå‘åœ°å€</span>
<span class="code-keyword">const</span> { data, error } = <span class="code-keyword">await</span> supabase.auth.<span class="code-function">signUp</span>({
  <span class="code-function">email</span>: <span class="code-string">'user@example.com'</span>,
  <span class="code-function">password</span>: <span class="code-string">'password123'</span>,
  <span class="code-function">options</span>: {
    <span class="code-function">emailRedirectTo</span>: <span class="code-string">'http://localhost:5173/welcome'</span>
  }
})</pre>
        </div>

        <div class="tip-box">
          <h4>ç›‘å¬éªŒè¯çŠ¶æ€å˜åŒ–</h4>
          <ul>
            <li>ä½¿ç”¨ Supabase çš„ <strong>onAuthStateChange</strong> ç›‘å¬å™¨</li>
            <li>å½“ç”¨æˆ·å®ŒæˆéªŒè¯åï¼Œä¼šè§¦å‘ SIGNED_IN äº‹ä»¶</li>
            <li>å¯ä»¥åœ¨è¿™é‡Œæ‰§è¡Œè‡ªåŠ¨ç™»å½•æˆ–è·³è½¬é€»è¾‘</li>
          </ul>
        </div>

        <div class="code-block" data-lang="JavaScript">
<pre><span class="code-comment">// ç›‘å¬è®¤è¯çŠ¶æ€å˜åŒ–</span>
supabase.auth.<span class="code-function">onAuthStateChange</span>((event, session) => {
  <span class="code-keyword">if</span> (event === <span class="code-string">'SIGNED_IN'</span>) {
    <span class="code-function">console.log</span>(<span class="code-string">'ç”¨æˆ·å·²ç™»å½•ï¼š'</span>, session.user)
    <span class="code-comment">// å¯ä»¥åœ¨è¿™é‡Œè·³è½¬åˆ°é¦–é¡µæˆ–æ‰§è¡Œå…¶ä»–æ“ä½œ</span>
  }
  
  <span class="code-keyword">if</span> (event === <span class="code-string">'USER_UPDATED'</span>) {
    <span class="code-function">console.log</span>(<span class="code-string">'ç”¨æˆ·ä¿¡æ¯å·²æ›´æ–°'</span>)
  }
})</pre>
        </div>
      </div>
      <!-- ç¬¬åä¸€éƒ¨åˆ†ï¼šæ€»ç»“ -->
      <div class="section">
        <h2 class="section-title">ğŸ“š æ€»ç»“</h2>
        
        <div style="background: linear-gradient(135deg, #e0f2f1 0%, #b2dfdb 100%); padding: 30px; border-radius: 15px;">
          <h3 style="color: #11998e; margin-bottom: 20px; font-size: 24px;">ğŸ¯ æ ¸å¿ƒè¦ç‚¹å›é¡¾</h3>
          
          <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-top: 20px;">
            <div style="background: white; padding: 20px; border-radius: 10px;">
              <h4 style="color: #11998e; margin-bottom: 10px;">1ï¸âƒ£ å‰ç«¯è¡¨å•</h4>
              <p style="font-size: 14px; line-height: 1.6;">ä½¿ç”¨ Element Plus åˆ›å»ºæ³¨å†Œè¡¨å•ï¼ŒåŒ…å«é‚®ç®±éªŒè¯è§„åˆ™</p>
            </div>
            
            <div style="background: white; padding: 20px; border-radius: 10px;">
              <h4 style="color: #11998e; margin-bottom: 10px;">2ï¸âƒ£ è°ƒç”¨ API</h4>
              <p style="font-size: 14px; line-height: 1.6;">ä½¿ç”¨ supabase.auth.signUp() æäº¤æ³¨å†Œä¿¡æ¯</p>
            </div>
            
            <div style="background: white; padding: 20px; border-radius: 10px;">
              <h4 style="color: #11998e; margin-bottom: 10px;">3ï¸âƒ£ è‡ªåŠ¨å‘é‚®ä»¶</h4>
              <p style="font-size: 14px; line-height: 1.6;">Supabase è‡ªåŠ¨å‘é€åŒ…å«éªŒè¯é“¾æ¥çš„é‚®ä»¶</p>
            </div>
            
            <div style="background: white; padding: 20px; border-radius: 10px;">
              <h4 style="color: #11998e; margin-bottom: 10px;">4ï¸âƒ£ ç”¨æˆ·éªŒè¯</h4>
              <p style="font-size: 14px; line-height: 1.6;">ç”¨æˆ·ç‚¹å‡»é‚®ä»¶é“¾æ¥å®ŒæˆéªŒè¯</p>
            </div>
            
            <div style="background: white; padding: 20px; border-radius: 10px;">
              <h4 style="color: #11998e; margin-bottom: 10px;">5ï¸âƒ£ è´¦æˆ·æ¿€æ´»</h4>
              <p style="font-size: 14px; line-height: 1.6;">éªŒè¯æˆåŠŸåç”¨æˆ·å¯ä»¥æ­£å¸¸ç™»å½•</p>
            </div>
          </div>
        </div>

        <div class="tip-box" style="margin-top: 30px;">
          <h4>ğŸŒŸ ä¸ºä»€ä¹ˆé€‰æ‹© Supabaseï¼Ÿ</h4>
          <ul>
            <li><strong>å¼€ç®±å³ç”¨ï¼š</strong>æ— éœ€è‡ªå·±æ­å»ºé‚®ä»¶æœåŠ¡å™¨</li>
            <li><strong>å®‰å…¨å¯é ï¼š</strong>å†…ç½®å®‰å…¨æœºåˆ¶ï¼Œé˜²æ­¢æ¶æ„æ³¨å†Œ</li>
            <li><strong>æ˜“äºé›†æˆï¼š</strong>å‡ è¡Œä»£ç å³å¯å®ç°å®Œæ•´åŠŸèƒ½</li>
            <li><strong>å…è´¹é¢åº¦ï¼š</strong>æ¯æœˆæä¾›å…è´¹çš„é‚®ä»¶å‘é€é¢åº¦</li>
            <li><strong>å¯å®šåˆ¶åŒ–ï¼š</strong>æ”¯æŒè‡ªå®šä¹‰é‚®ä»¶æ¨¡æ¿å’ŒéªŒè¯æµç¨‹</li>
          </ul>
        </div>
      </div>
      <!-- äº¤äº’å¼æ¼”ç¤ºåŒºåŸŸ -->
      <div class="section">
        <h2 class="section-title">ğŸ® äº’åŠ¨æ¼”ç¤º</h2>
        <div class="interactive-demo">
          <h3 style="margin-bottom: 20px; color: #11998e;">ç‚¹å‡»æŒ‰é’®æ¨¡æ‹Ÿæ³¨å†Œæµç¨‹</h3>
          <button class="demo-button" onclick="simulateRegistration()">
            ğŸš€ å¼€å§‹æ¨¡æ‹Ÿæ³¨å†Œ
          </button>
          <div id="demo-output" class="demo-output" style="display: none;">
            <div id="demo-content"></div>
          </div>
        </div>
      </div>

    </div>
  </div>

  <script>
    let currentStep = 0;

    function highlightStep(step) {
      const steps = document.querySelectorAll('.flow-step');
      steps.forEach((s, index) => {
        if (index + 1 === step) {
          s.classList.add('active');
        } else {
          s.classList.remove('active');
        }
      });
    }

    function showVerificationProcess() {
      alert('âœ… éªŒè¯æˆåŠŸï¼\n\næ‚¨çš„é‚®ç®±å·²éªŒè¯ï¼Œç°åœ¨å¯ä»¥ç™»å½• CampusHub äº†ã€‚\n\nï¼ˆè¿™æ˜¯ä¸€ä¸ªæ¼”ç¤ºï¼Œå®é™…éªŒè¯ä¼šç”± Supabase å¤„ç†ï¼‰');
    }

    function simulateRegistration() {
      const output = document.getElementById('demo-output');
      const content = document.getElementById('demo-content');
      output.style.display = 'block';
      
      const steps = [
        { time: 0, message: 'ğŸ“ ç”¨æˆ·å¡«å†™æ³¨å†Œè¡¨å•...', step: 1 },
        { time: 1000, message: 'âœ… è¡¨å•éªŒè¯é€šè¿‡', step: 1 },
        { time: 2000, message: 'ğŸš€ è°ƒç”¨ signUpUser å‡½æ•°...', step: 2 },
        { time: 3000, message: 'ğŸ“¡ å‘é€è¯·æ±‚åˆ° Supabase...', step: 3 },
        { time: 4000, message: 'âœ… Supabase åˆ›å»ºç”¨æˆ·è´¦æˆ·', step: 3 },
        { time: 5000, message: 'ğŸ“§ Supabase å‘é€éªŒè¯é‚®ä»¶...', step: 3 },
        { time: 6000, message: 'âœ… é‚®ä»¶å‘é€æˆåŠŸ', step: 4 },
        { time: 7000, message: 'ğŸ“¬ ç”¨æˆ·æ”¶åˆ°éªŒè¯é‚®ä»¶', step: 4 },
        { time: 8000, message: 'ğŸ–±ï¸ ç”¨æˆ·ç‚¹å‡»éªŒè¯é“¾æ¥...', step: 4 },
        { time: 9000, message: 'ğŸ” Supabase éªŒè¯ token...', step: 5 },
        { time: 10000, message: 'âœ… éªŒè¯æˆåŠŸï¼è´¦æˆ·å·²æ¿€æ´»', step: 5 },
        { time: 11000, message: 'ğŸ‰ æ³¨å†Œæµç¨‹å®Œæˆï¼ç”¨æˆ·å¯ä»¥ç™»å½•äº†', step: 5 }
      ];

      content.innerHTML = '';
      
      steps.forEach(({ time, message, step }) => {
        setTimeout(() => {
          const line = document.createElement('div');
          line.style.padding = '8px 0';
          line.style.borderBottom = '1px solid #e2e8f0';
          line.textContent = message;
          content.appendChild(line);
          content.scrollTop = content.scrollHeight;
          highlightStep(step);
        }, time);
      });
    }

    // é¡µé¢åŠ è½½æ—¶é«˜äº®ç¬¬ä¸€æ­¥
    window.addEventListener('load', () => {
      highlightStep(1);
    });
  </script>
</body>
</html>
